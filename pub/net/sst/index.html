<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Structured Streams: a New Transport Abstraction</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html --> 
<meta name="src" content="sst.tex"> 
<meta name="date" content="2007-06-08 08:21:00"> 
<link rel="stylesheet" type="text/css" href="sst.css"> 
</head><body 
>

<!-- TODO: fill in ACM DOI link; Netsteria link in eval section. -->

<!--#include virtual="/header.html" -->
<hr>

<h3 class="titleHead"><span 
class="phvb8t-x-x-180">Structured Streams: a New Transport Abstraction</span></h3>
<div class="author"></div>
<div class="author"><!--l. 85--><p class="noindent"><span 
class="phvr8t-x-x-120">Bryan Ford</span><br />
<span 
class="phvr8t-">Massachusetts Institute of Technology</span>                                                       </div>

<div class="toappear"><span class="ptmr8t-x-x-80">
<center>
Published in
<a href="http://www.sigcomm.org/sigcomm2007/">ACM SIGCOMM 2007</a>,
August 27-31, 2007, Kyoto, Japan.
</center>
</div>

  <h3 class="likesectionHead"><a 
 id="x1-1000"></a><a href="../sst-abs.html">ABSTRACT</a></h3>
<!--l. 2--><p class="noindent">Internet applications currently have a choice between
stream and datagram transport abstractions. Datagrams
efficiently support small transactions and streams are suited
for long-running conversations, but neither abstraction
adequately supports applications like HTTP that exhibit
a <span 
class="cmti-9">mixture </span>of transaction sizes, or applications like FTP
and SIP that use multiple transport instances.
<a href="http://pdos.csail.mit.edu/uia/sst/"><span 
class="cmti-9">Structured Stream Transport </span>(SST)</a>
enhances the traditional stream
abstraction with a hierarchical <span 
class="cmti-9">hereditary structure</span>, allowing
applications to create lightweight <span 
class="cmti-9">child streams </span>from any
existing stream. Unlike TCP streams, these lightweight
streams incur neither 3-way handshaking delays on startup
nor TIME-WAIT periods on close. Each stream offers
independent data transfer and flow control, allowing different
transactions to proceed in parallel without head-of-line
blocking, but all streams share one congestion control context.
SST supports both reliable and best-effort delivery in a way
that semantically unifies datagrams with streams and solves the
classic &#8220;large datagram&#8221; problem, where a datagram&#8217;s loss
probability increases exponentially with fragment count.
Finally, an application can prioritize its streams relative
to each other and adjust priorities dynamically through
out-of-band signaling. A user-space prototype shows that SST is
TCP-friendly to within 2%, and performs comparably to a
user-space TCP and to within 10% of kernel TCP on a WiFi
network.
<!--l. 94--><p class="noindent">
  <h4 class="likesubsectionHead"><a 
 id="x1-2000"></a>Categories and Subject Descriptors</h4>
<!--l. 95--><p class="noindent">C.2.2 [<span 
class="cmbx-9">Computer-Communication Networks</span>]: Network
Protocols; C.2.6 [<span 
class="cmbx-9">Computer-Communication Networks</span>]:
Internetworking&#8212;<span 
class="cmti-9">Standards (e.g., TCP/IP)</span>
  <h4 class="likesubsectionHead"><a 
 id="x1-3000"></a>General Terms</h4>
<!--l. 96--><p class="noindent">Algorithms, Design, Performance, Security, Standardization      <h4 class="likesubsectionHead"><a 
 id="x1-4000"></a>Keywords</h4>
                                                  <!--l. 97--><p class="noindent">SST, transport protocols, stream, datagram, reliable,
                                                  best-effort, web transport, multimedia, mobility, fairness,
                                                  TCP.


                                                    <h3 class="sectionHead"><span class="titlemark">1   </span> <a 
 id="x1-50001"></a>Introduction</h3>
                                                  <!--l. 22--><p class="noindent">Current Internet transports offer applications a choice between
                                                  two abstractions: reliable byte streams as in TCP&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc793">52</a>]</span> or
                                                  SCTP&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc2960">49</a>]</span>, or best-effort datagrams as in UDP&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc768">41</a>]</span> or
                                                  DCCP&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc4340">32</a>]</span>. Streams are convenient for large or long-running
                                                  activities that must preserve data content and order, such as
                                                  terminal sessions or file transfers, but datagrams more
                                                  efficiently support numerous small transactions that need
                                                  to proceed independently as quickly as possible, such as
                                                  DNS requests or frames of a media stream. An application
                                                  with a mixture of many small and a few large transactions
                                                  faces awkward tradeoffs, because it could benefit from
                                                  the efficiency of UDP for small transactions but needs
                                                  TCP to handle the occasional large ones. Using one TCP
                                                  stream per transaction as in HTTP/1.0&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc1945">8</a>]</span> makes poor use
                                                  of network resources and is unfair to other applications
                                                  when a client uses many concurrent streams; serializing
                                                  transactions onto persistent streams increases transaction
                                                  latency&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xnielsen97network">38</a>]</span>; and implementing pipelining correctly in web
                                                  servers has proven challenging enough that seven years
                                                  after the standardization of HTTP/1.1&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc2616">19</a>]</span>, popular
                                                  browsers still leave pipelining disabled for compatibility&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xkudalur05ie7">33</a>
                                                  <a 
href="#Xfirefox-pipelining">37</a>]</span>.
                                                  <!--l. 53--><p class="indent">   Applications face further tradeoffs because neither streams
                                                  nor datagrams offer a means to associate related transport
                                                  instances. Applications such as FTP&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc959">42</a>]</span> and SIP&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc3261">45</a>]</span>
                                                  associate transport instances manually by passing IP addresses
                                                  and port numbers in messages, causing protocol fragility
                                                  and problems traversing NATs&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc3027">26</a>]</span>. Other applications
                                                  multiplex many activities onto one TCP stream, as with
                                                  SSH tunneling&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc4251">55</a>]</span>, but performance suffers from TCP&#8217;s
                                                  total ordering of the multiplexed stream, where one lost
                                                  packet blocks delivery of all data queued behind it in the
                                                  stream.
                                                  <!--l. 109--><p class="indent">  
<a href="http://pdos.csail.mit.edu/uia/sst/">
<span class="cmti-9">Structured Stream Transport</span></a>, or SST, addresses these
                                                  problems of transaction size and instance association by
                                                  augmenting traditional streams with an explicit hereditary
                                                  structure.  A <span 
class="cmti-9">structured stream </span>provides not only reliable data
                                                  delivery as in TCP, but also permits the creation of additional
lightweight child streams or <span 
class="cmti-9">substreams</span>. When an application
spawns a child from an existing stream, SST conveys this
parent/child relationship to the remote application, ensuring
that only the intended recipient can accept the new stream and
preserving its structural context. Each stream delivers data
reliably and in order within that stream, with its own
receiver-directed flow control, while other streams may
proceed independently with no head-of-line blocking. SST
shares sequencing, congestion control, and security state
among all streams between a pair of hosts, minimizing
per-stream state overhead and allowing the application to use as
many concurrent streams as convenient to match its logical
structure. The application may also create and destroy streams
rapidly to match the natural longevity of its transactions,
because SST eliminates TCP&#8217;s 3-way handshake delay on all
streams after the first, and also eliminates the 4-minute
TIME-WAIT period on close that can cause TCP state
overload&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xfaber99timewait">18</a>]</span>. The application can transmit datagrams on an
SST stream with best-effort delivery, but SST treats these
datagrams as <span 
class="cmti-9">ephemeral substreams </span>that are semantically
indistinguishable to the receiving application from ordinary
substreams, allowing SST to fall back to stream-oriented
delivery for &#8220;datagrams&#8221; too large to transmit as such without
unacceptable probability of loss. Finally, the application
can prioritize SST streams relative to each other, giving
preference to interactive or multimedia streams over background
activities, and applications can use substreams for out-of-band
signaling to change priorities mid-stream, e.g., expediting the
loading of images in the currently visible area of a web
page.
<!--l. 253--><p class="indent">  A user-space prototype implementation, running on real and
simulated networks, attests to SST&#8217;s practicality and utility.
The prototype achieves within 10% of the bandwidth of mature
native TCP implementations on &#8220;consumer-grade&#8221; DSL and
WiFi connections, and its congestion control is TCP-fair to
within <span 
class="cmsy-9">&plusmn;</span>2%. Under a simulated web browsing workload, using
one HTTP/1.0-style transaction per stream with SST achieves
the performance of HTTP/1.1 pipelining, with lower application
complexity, and more flexibility as demonstrated by a
simulation of dynamic Web download prioritization in response
to user actions.
<!--l. 271--><p class="indent">  The primary contributions of this work are: (a) the structured
stream abstraction, (b) a novel protocol design that implements
this abstraction by splitting the transport into separate <span 
class="cmti-9">stream</span>
and <span 
class="cmti-9">channel </span>layers, and (c) a user-space prototype for easy
experimentation and deployment.
<!--l. 278--><p class="indent">  The next section introduces SST&#8217;s design as seen by
applications. Section&#x00A0;<a 
href="#x1-100003">3<!--tex4ht:ref: sec-app --></a> explores specific ways applications can
benefit from structured streams, Section&#x00A0;<a 
href="#x1-140004">4<!--tex4ht:ref: sec-proto --></a> describes SST&#8217;s
protocol design in detail, and Section&#x00A0;<a 
href="#x1-320005">5<!--tex4ht:ref: sec-eval --></a> experimentally
evaluates the performance of the prototype. Section&#x00A0;<a 
href="#x1-410006">6<!--tex4ht:ref: sec-related --></a> relates
SST to prior work, and Section&#x00A0;<a 
href="#x1-420007">7<!--tex4ht:ref: sec-conc --></a> concludes.
  <h3 class="sectionHead"><span class="titlemark">2   </span> <a 
 id="x1-60002"></a>Structured Streams</h3>
<!--l. 4--><p class="noindent">This section describes the structured stream abstraction as
viewed by an application using SST, leaving technical details of
the SST protocol itself to Section&#x00A0;<a 
href="#x1-140004">4<!--tex4ht:ref: sec-proto --></a>.
<!--l. 13--><p class="indent">  Like a TCP stream&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc793">52</a>]</span>, an SST stream is a reliable,
byte-oriented conversation between applications. Apart from the
ability to create substreams, SST streams are semantically
almost identical to TCP streams, so porting application
protocols from TCP to SST is straightforward.           
                                                    <h4 class="subsectionHead"><span class="titlemark">2.1   </span> <a 
 id="x1-70002.1"></a>Creating and Accepting Substreams</h4>
                                                  <!--l. 53--><p class="noindent">An application can use an SST stream not only to transfer data
                                                  but also to &#8220;fork off&#8221; child streams or <span 
class="cmti-9">substreams</span>. The terms
                                                  &#8220;substream&#8221; and &#8220;child stream&#8221; refer only to hereditary
                                                  relationships between streams: once created, there is no
                                                  semantic difference between a &#8220;top-level&#8221; stream and a
                                                  substream. SST extends the traditional sockets API with three
                                                  new operations for creating substreams:
                                                     <ul class="itemize0">
                                                     <li class="itemize"><span class="obeylines-h"><span class="verb"><span 
class="cmtt-9">create_substream</span></span></span>(<span 
class="cmmi-9">stream</span>) <span 
class="cmsy-9">&#x2192; </span><span 
class="cmmi-9">new</span>_<span 
class="cmmi-9">stream</span>:
                                                     <br class="newline" />creates a new child stream from an existing stream.
                                                     </li>
                                                     <li class="itemize"><span class="obeylines-h"><span class="verb"><span 
class="cmtt-9">listen_substream</span></span></span>(<span 
class="cmmi-9">stream</span>):
                                                     <br class="newline" />indicates willingness to accept substreams on a stream.
                                                     </li>
                                                     <li class="itemize"><span class="obeylines-h"><span class="verb"><span 
class="cmtt-9">accept_substream</span></span></span>(<span 
class="cmmi-9">stream</span>) <span 
class="cmsy-9">&#x2192; </span><span 
class="cmmi-9">new</span>_<span 
class="cmmi-9">stream</span>:
                                                     <br class="newline" />accepts a substream initiated by the other endpoint.</li></ul>
                                                  <!--l. 71--><p class="indent">   An application calls <span class="obeylines-h"><span class="verb"><span 
class="cmtt-9">listen_substream</span></span></span> to indicate willingness
                                                  to accept new streams as children of an existing stream, much
                                                  as the application would use a traditional listen socket to
                                                  receive incoming top-level streams. The peer application on the
                                                  existing stream&#8217;s other endpoint may then initiate a substream
                                                  by calling <span class="obeylines-h"><span class="verb"><span 
class="cmtt-9">create_substream</span></span></span> on the existing stream. SST
                                                  notifies the listening application of the incoming substream,
                                                  and the listener accepts it via <span class="obeylines-h"><span class="verb"><span 
class="cmtt-9">accept_substream</span></span></span>. Once
                                                  created and accepted, child streams are independent of and
                                                  may outlive their parents. SST endeavors to make streams
                                                  &#8220;lightweight enough&#8221; for the application to use a new stream for
                                                  each logical transaction regardless of size, enabling the
                                                  application to &#8220;frame&#8221; its protocol data units according to its
                                                  needs&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xclark90architectural">14</a>]</span>.
                                                  <!--l. 131--><p class="indent">   SST ensures reliability and data ordering within a stream but
                                                  not between streams, so the loss and retransmission of a data
                                                  segment on one stream does not delay communication on other
                                                  streams. If a client issues many requests to a server at
                                                  once on separate streams, for example, the server may
                                                  accept several requests concurrently and respond to them in
                                                  any order, completing &#8220;easy&#8221; requests quickly without
                                                  blocking them behind long-running requests submitted
                                                  earlier. Each stream provides independent flow control,
                                                  so the receiving application may accept data at different
                                                  rates on different streams, or accept data continuously
                                                  on one stream while temporarily blocking the sender on
                                                  another. SST&#8217;s flow control applies to new child streams
                                                  as well as to stream data, allowing a server to prevent
                                                  its clients from overloading it with too many concurrent
                                                  requests.
                                                    <h4 class="subsectionHead"><span class="titlemark">2.2   </span> <a 
 id="x1-80002.2"></a>Datagrams as Ephemeral Substreams</h4>
                                                  <!--l. 208--><p class="noindent">SST has a <span class="obeylines-h"><span class="verb"><span 
class="cmtt-9">send_datagram</span></span></span> operation providing best-effort
                                                  delivery, but SST treats this operation as equivalent to creating
                                                  a child stream, sending data on it, and closing the child with
                                                  a short linger timeout to avoid buffering the sent data.
                                                  SST&#8217;s <span class="obeylines-h"><span class="verb"><span 
class="cmtt-9">receive_datagram</span></span></span> operation is similarly a shorthand
                                                  for accepting a substream, reading data, and closing the
                                                  substream. Since an SST &#8220;datagram&#8221; is semantically just an
                                                  <span 
class="cmti-9">ephemeral substream</span>, the receiver can accept the substream
                                                  with <span class="obeylines-h"><span class="verb"><span 
class="cmtt-9">accept_substream</span></span></span> instead of <span class="obeylines-h"><span class="verb"><span 
class="cmtt-9">receive_datagram</span></span></span>,
                                                  and can then read the substream&#8217;s content as it would
                                                  with a normal substream. The receiver gets a connection
reset if it ever tries to send on this ephemeral substream.
The receiving application thus cannot tell whether the
sender invoked <span class="obeylines-h"><span class="verb"><span 
class="cmtt-9">send_datagram</span></span></span> or the equivalent sequence of
operations.
<!--l. 229--><p class="indent">  SST can use an optimization described later to deliver
best-effort datagrams efficiently and statelessly as in datagram
transports such as UDP or DCCP. Because the receiving
application cannot tell whether this optimization was used,
however, the sending SST is free <span 
class="cmti-9">not </span>to use it when network
conditions may not be suitable. If for example a datagram
to be sent is large enough that at least one fragment is
likely to be lost, given the current loss rate computed from
congestion control statistics, SST forgoes the datagram delivery
optimization and sends the datagram instead on a &#8220;real&#8221;
substream, transparently to the application. SST thus solves the
&#8220;large datagram&#8221; problem of traditional best-effort services,
where datagram loss rates quickly become unacceptable as
datagram size increases.
  <h4 class="subsectionHead"><span class="titlemark">2.3   </span> <a 
 id="x1-90002.3"></a>Other Application-Visible Features</h4>
<!--l. 256--><p class="noindent">SST may be deployed either at system level as a &#8220;native
transport&#8221; alongside TCP and UDP, or at application level atop
UDP. The latter usage allows applications to ship with a library
implementation of SST without requiring special privileges or
extensions to existing operating systems, and they can use it as
they would SSL/TLS&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc2246">17</a>]</span> or DTLS&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc4347">43</a>]</span>. Deploying SST atop
UDP also allows it to traverse existing NATs that only natively
support TCP and UDP.
<!--l. 268--><p class="indent">  Since communication security is now essential for most
applications on today&#8217;s Internet, but IP-layer security&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc4301">31</a>]</span>
is still not widely deployed other than for VPNs, SST
provides optional transport-layer security built on standard
practices.
  <h3 class="sectionHead"><span class="titlemark">3   </span> <a 
 id="x1-100003"></a>Using Structured Streams</h3>
<!--l. 4--><p class="noindent">To examine the practical benefits of structured streams,
this section briefly explores requirements and challenges
faced by several classic application protocols. We use these
protocols for illustrative purposes only, without implying that
specific applications should necessarily be migrated to
SST.
  <h4 class="subsectionHead"><span class="titlemark">3.1   </span> <a 
 id="x1-110003.1"></a>Application Protocol Modularity</h4>
<!--l. 15--><p class="noindent">FTP&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc959">42</a>]</span> modularizes its operation across multiple transport
instances: one TCP stream for control signaling and a separate
stream for each file transfer. Internet telephony similarly uses a
TCP stream for call setup via SIP&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc3261">45</a>]</span>, and separate UDP
streams for media delivery via RTP and RTCP&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc3550">46</a>]</span>. With
SST, such applications can use a top-level stream for control
and simply open substreams for data communication. Since SST
conveys the parent/child relationship on substream creation, the
application protocols need not communicate IP addresses or
port numbers explicitly to associate the related transport
instances, simplifying the application and avoiding difficulties
traversing NATs&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc3027">26</a>]</span>.
  <h4 class="subsectionHead"><span class="titlemark">3.2   </span> <a 
 id="x1-120003.2"></a>Transactional Protocols</h4>
<!--l. 53--><p class="noindent">The need to support transaction-oriented applications efficiently
has long been recognized&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xbirrell84implementing">9</a> <a 
href="#Xrfc955">11</a> <a 
href="#Xcheriton86vmtp">13</a>]</span>. In the absence of a general
transport satisfying this demand, HTTP/1.0&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc1945">8</a>]</span> used a      separate TCP connection for each request, each requiring a
                                                  3-way handshake and TIME-WAIT period after close, leading to
                                                  unacceptable overhead as the Web became riddled with small
                                                  images. Since TCP congestion control distributes available
                                                  bandwidth per stream, opening many concurrent TCP
                                                  connections is also unfair to other users&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xbalakrishnan98tcp">3</a>]</span>. HTTP/1.1&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc2616">19</a>]</span>
                                                  allows reuse of a TCP connection for successive requests,
                                                  reducing the total number of connections, with the disadvantage
                                                  of serializing requests and often making pages take longer to
                                                  load&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xnielsen97network">38</a>]</span>. In theory requests may be pipelined to improve
                                                  latency, but seven years after the publication of HTTP/1.1,
                                                  today&#8217;s common browsers still avoid pipelining by default
                                                  because many servers implement it incorrectly&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xkudalur05ie7">33</a> <a 
href="#Xfirefox-pipelining">37</a>]</span>.
                                                  Pipelining also fixes response order to request order, blocking
                                                  the server from satisfying simple static content requests
                                                  promptly until it finishes processing dynamic content requests
                                                  submitted earlier for example.
                                                  <!--l. 84--><p class="indent">   HTTP could benefit from UDP&#8217;s efficiency&#8212;particularly for
                                                  the many conditional GET requests browsers use to test the
                                                  freshness of cached objects, whose responses are usually
                                                  small&#8212;but HTTP cannot use UDP because responses <span 
class="cmti-9">may </span>be
                                                  arbitrarily large, and the client has no way of knowing this
                                                  when it submits the request. SIP supports operation over UDP,
                                                  but gets into trouble for precisely this reason&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xgurbani06handling">24</a>]</span>.
                                                  <!--l. 93--><p class="indent">   With SST, applications can use one stream per transaction,
                                                  with minimal startup latency on all streams after the first, and
                                                  without serialization of independent requests or long-term state
                                                  retention after close. Alternatively, applications can use SST as
                                                  a best-effort datagram transport, sending requests and replies in
                                                  separate ephemeral streams, achieving UDP&#8217;s statelessness for
                                                  small messages without UDP&#8217;s message size limits. In either
                                                  case, SST ensures fairness relative to TCP applications that use
                                                  only one stream, since all of an application&#8217;s SST streams
                                                  between the same pair of hosts share a single congestion control
                                                  context.
                                                    <h4 class="subsectionHead"><span class="titlemark">3.3   </span> <a 
 id="x1-130003.3"></a>Out-of-Band Signaling</h4>
                                                  <!--l. 151--><p class="noindent">Many application protocols require some form of out-of-band
                                                  signaling, and traditionally must use ad hoc methods to
                                                  implement it due to the lack of transport layer support. Internet
                                                  telephony sets up two separate UDP media sessions, for
                                                  example: an RTP stream for data and a parallel RTCP
                                                  stream for related out-of-band signaling&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc3550">46</a>]</span>. With SST, an
                                                  application need not set up out-of-band control channels in
                                                  advance: the application can create a new substream at any
                                                  time in which to convey an out-of-band message relating to the
                                                  parent stream, without interfering with the normal operation of
                                                  the parent. Section&#x00A0;<a 
href="#x1-320005">5<!--tex4ht:ref: sec-eval --></a> explores one experimental use of
                                                  out-of-band signaling in SST.
                                                    <h3 class="sectionHead"><span class="titlemark">4   </span> <a 
 id="x1-140004"></a>Protocol Design</h3>
                                                  <!--l. 4--><p class="noindent">

<table class="figure" align="right"><tr class="figure"><td class="figure" 
>
<a 
 id="x1-14001r1"></a>

<!--l. 6--><p class="noindent"><img 
src="sst0x.png" alt="PIC" class="graphics"><!--tex4ht:graphics  
name="sst0x.png" src="arch.eps"  
-->
<br /> <table class="caption" align="center"
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure 1: </td><td  
class="content">SST Protocol Architecture</td></tr></table><!--tex4ht:label?: x1-14001r1 -->
<!--l. 9--><p class="noindent"></td></tr></table>

<!--l. 11--><p class="indent">  SST consists of three related protocols, organized as shown in
Figure&#x00A0;<a 
href="#x1-14001r1">1<!--tex4ht:ref: fig-arch --></a>. The <span 
class="cmti-9">channel protocol </span>is a connection-oriented
best-effort delivery service that provides packet sequencing,
integrity and privacy protection, selective acknowledgment, and
congestion control. The <span 
class="cmti-9">negotiation protocol </span>sets up the channel
protocol&#8217;s state, negotiating shared security keys and optional
features. Finally, the <span 
class="cmti-9">stream protocol </span>builds on the channel and
negotiation protocols to implement the reliable structured
stream abstraction SST presents to the application.  For space
reasons this paper focuses on the channel and stream protocols,
which are of primary importance for implementing the
structured stream abstraction.

<div style="clear:both;"></div>

  <h4 class="subsectionHead"><span class="titlemark">4.1   </span> <a 
 id="x1-150004.1"></a>Packets, Channels, and Streams</h4>
<!--l. 4--><p class="noindent">Figure&#x00A0;<a 
href="#x1-15001r2">2<!--tex4ht:ref: fig-state --></a> illustrates three key communication abstractions that
form the interfaces between SST&#8217;s layers&#8212;packets, channels,
and streams&#8212;and how instances of these communication
abstractions relate to each other over time.

<table class="figure" align="right"><tr class="figure"><td class="figure" 
>
<a 
 id="x1-15001r2"></a>

<!--l. 24--><p class="noindent"><img 
src="sst1x.png" alt="PIC" class="graphics"><!--tex4ht:graphics  
name="sst1x.png" src="state.eps"  
-->
<br /> <table class="caption" align="center"
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure 2: </td><td  
class="content">SST Communication Abstractions</td></tr></table><!--tex4ht:label?: x1-15001r2 -->
<!--l. 27--><p class="indent">  </td></tr></table>

<!--l. 11--><p class="indent">  At the lowest level, SST assumes that the underlying
protocol (e.g., IP or UDP) provides only an unreliable,
connectionless, unicast packet delivery service, in which packets
are independent of each other and have ephemeral lifetimes.
Each packet carries some number of bytes, up to the network
path&#8217;s current maximum transfer unit (MTU), which may
change at any time. All communication within a channel or
stream ultimately reduces to a series of packets at this
level.
<!--l. 22--><p class="indent">  

<!--l. 29--><p class="indent">  On top of this connectionless service SST&#8217;s channel protocol
builds a connection-oriented packet delivery service. Semantically,
the channel protocol&#8217;s most important functions are to
associate each transmitted packet with a particular connection
instance or <span 
class="cmti-9">channel</span>, and to assign monotonically increasing
<span 
class="cmti-9">packet sequence numbers </span>to all packets transmitted within a
particular channel. The channel protocol also attaches
acknowledgment information to packets to determine when
packets have arrived successfully, and uses this acknowledgment
information internally to implement congestion control at
channel granularity. Finally, the channel protocol protects each
packet with a message authenticator and an optional encryption
wrapper to provide end-to-end security for all packets
transmitted over the channel.
<!--l. 46--><p class="indent">  The stream protocol builds on this intermediate channel
abstraction to provide TCP-like reliable byte streams to the
application. The stream protocol handles segmentation and
reassembly, retransmission of lost segments, receiver-directed
flow control, and substream creation and management. At any
point in time, the stream protocol normally multiplexes all
streams between the same pair of hosts onto a single channel.
The fact that a channel&#8217;s sequence number space does not wrap
facilitates efficient stream creation and termination, but this
property also implies that the stream protocol must <span 
class="cmti-9">migrate</span>
long-lived streams from one channel to another to give streams
unlimited lifetimes as in TCP.

<div style="clear:both;"></div>

<table class="figure" align="right"><tr class="figure"><td class="figure" 
>
<a 
 id="x1-15002r3"></a>
<!--l. 115--><p class="noindent"><img 
src="sst2x.png" alt="PIC" class="graphics"><!--tex4ht:graphics  
name="sst2x.png" src="layout.eps"  
-->
<br /> <table class="caption" align="center"
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure 3: </td><td  
class="content">SST Packet Layout</td></tr></table><!--tex4ht:label?: x1-15002r3 -->
<!--l. 118--><p class="indent">  </td></tr></table>

<!--l. 87--><p class="indent">  Figure&#x00A0;<a 
href="#x1-15002r3">3<!--tex4ht:ref: fig-layout --></a> shows the layout of a typical SST packet.  The
channel header is always eight bytes in the current version of
SST, and includes fields for channel identification, packet
sequencing, and acknowledgment. The stream header is
typically four or eight bytes depending on packet type, and
contains fields for stream identification, receive window
control, and sequencing bytes within a stream. Following
the application payload, the channel protocol&#8217;s trailing
message authenticator is typically four bytes for lightweight
TCP-grade security, and 12 or more bytes for cryptographic
security.
<!--l. 107--><p class="indent">  The next section details SST&#8217;s channel protocol, and
Section&#x00A0;<a 
href="#x1-210004.3">4.3<!--tex4ht:ref: sec-stream --></a> describes the stream protocol. Finally, Section&#x00A0;<a 
href="#x1-310004.4">4.4<!--tex4ht:ref: sec-nego --></a>
briefly outlines the negotiation protocol.
<!--l. 113--><p class="indent">

<div style="clear:both;"></div>

  <h4 class="subsectionHead"><span class="titlemark">4.2   </span> <a 
 id="x1-160004.2"></a>Channel Protocol</h4>
<!--l. 4--><p class="noindent">The channel protocol&#8217;s purpose is to provide transport services
that are independent of how the application &#8220;frames&#8221; its
communication into protocol data units&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xclark90architectural">14</a>]</span>, or streams in
SST. The communication state required to provide these
services is thus shareable across many application streams.
<!--l. 22--><p class="indent">  SST borrows its connection state, sequencing, and packet
security model from IPsec&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc4301">31</a>]</span> instead of TCP. SST channels
are inspired by IPsec security associations, and SST packet
sequence numbers work like those IPsec uses for replay
protection in the AH and ESP&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc4303">30</a>]</span>. While IPsec &#8220;hides&#8221; its
sequencing semantics from upper layers in the interest of
operating invisibly to existing transports, one of SST&#8217;s design
insights is that this sequencing model provides a useful building
block for new, richer transport services.
<!--l. 57--><p class="indent">  The following sections detail the channel protocol&#8217;s
identification, sequencing, security, acknowledgment, and
congestion control services. While one packet submitted to
the channel protocol currently translates to one packet in
the underlying protocol (e.g., IP or UDP), the channel
protocol could be extended to provide services such as chunk
bundling&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc2960">49</a>]</span> or quality-of-service enhancement&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xsubramanian04overqos">50</a>]</span>.
  <h5 class="subsubsectionHead"><span class="titlemark">4.2.1   </span> <a 
 id="x1-170004.2.1"></a>Channel Identification</h5>
<!--l. 70--><p class="noindent">SST&#8217;s negotiation protocol sets up a channel&#8217;s initial state when
an application first connects to a target host: each run of
the negotiation protocol yields a new channel. As part of
channel negotiation, each host assigns a <span 
class="cmti-9">channel ID </span>for
each direction of flow. Each transmitted packet includes
the receiver&#8217;s channel ID, enabling the receiver to find
the associated channel instance state; channel IDs thus
play the role of IPsec&#8217;s security parameters index (SPI).
A channel&#8217;s ID may be reassigned immediately once the
channel&#8217;s lifetime ends: the packet authenticator described
below rejects old or replayed packets from prior channel
instances. As SST&#8217;s channel protocol is designed for use by
the stream protocol, which needs at most a few active
channels at once, the channel ID field may be relatively small
(currently 8 bits). Channel zero is reserved for the negotiation
protocol.
  <h5 class="subsubsectionHead"><span class="titlemark">4.2.2   </span> <a 
 id="x1-180004.2.2"></a>Packet Sequencing and Replay Protection</h5>
<!--l. 38--><p class="noindent">TCP uses its byte sequence numbers for three different
purposes: to distinguish and order data segments within a
connection instance, to distinguish segments belonging to
entirely different connection instances&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xtomlinson75selecting">53</a> <a 
href="#Xsunshine78connection">51</a>]</span>, and to protect
against packet forgery&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc1948">5</a>]</span>. SST uses its packet sequence
numbers for only the first purpose, leaving the other two
functions to an explicit packet authenticator.
<!--l. 49--><p class="indent">  Each channel has a 64-bit packet sequence number space for
each direction of flow, from which the channel protocol
assigns sequence numbers consecutively to each packet
transmitted. As in IPsec or DCCP&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc4340">32</a>]</span>, every packet sent
gets a new sequence number, including acknowledgments
and retransmissions. The sequence number space does not
wrap, so if a host sends 2<sup><span 
class="cmr-6">64</span></sup> packets on one channel, it
negotiates and switches to a new channel with a fresh
space.
<!--l. 68--><p class="indent">  Like IPsec&#8217;s 64-bit sequence number extension&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc4303">30</a>]</span>, SST    authenticates packets using full sequence numbers but
                                                  transmits only the low bits explicitly in each packet. While
                                                  the size of the sequence number space limits a channel&#8217;s
                                                  total lifetime, the size of the sequence number field in
                                                  the packet header limits the <span 
class="cmti-9">window </span>of packets a host
                                                  may transmit within one round-trip. SST&#8217;s current 24-bit
                                                  sequence number field requires the sender to stay less than
                                                  about 2<sup><span 
class="cmr-6">22</span></sup> packets ahead of the receiver to ensure that
                                                  the receiver extrapolates sequence numbers correctly. To
                                                  achieve maximum performance on fast links with long delay,
                                                  SST may need an optional header extension like DCCP&#8217;s
                                                  long header format&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc4340">32</a>]</span>, or a timestamp extension as in
                                                  PAWS&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc1323">29</a>]</span>.
                                                  <!--l. 85--><p class="indent">   Also like IPsec, the channel protocol checks the sequence
                                                  number of each received packet against a bit mask of sequence
                                                  numbers recently received, and discards without further
                                                  processing both duplicates and packets too old to be covered by
                                                  the bit mask. The width of this bit mask therefore limits how
                                                  far out of order within a channel&#8217;s sequence space a packet may
                                                  be delivered to upper-layer protocols; we call this value the
                                                  channel&#8217;s <span 
class="cmti-9">mis-ordering limit </span>(MOL).
                                                    <h5 class="subsubsectionHead"><span class="titlemark">4.2.3   </span> <a 
 id="x1-190004.2.3"></a>Authentication and Encryption</h5>
                                                  <!--l. 6--><p class="noindent">SST&#8217;s packet security follows the design of IPsec&#8217;s ESP&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc4303">30</a>]</span>. If
                                                  strong security is not needed, the application can disable
                                                  encryption and request a lightweight 32-bit authenticator in
                                                  place of a cryptographic MAC. The lightweight authenticator
                                                  protects the channel against stale or replayed packets sent in
                                                  prior channel instances, and against attackers who can inject
                                                  forged packets but cannot monitor the communication stream,
                                                  providing security comparable to other unsecured Internet
                                                  transports like TCP. SST computes this authenticator by
                                                  calculating an ordinary 32-bit checksum over the packet and a
                                                  pseudo-header containing the full 64-bit sequence number, then
                                                  adding two values to the resulting checksum: first, the same
                                                  4-microsecond timer that TCP uses to choose its initial
                                                  sequence numbers&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xtomlinson75selecting">53</a> <a 
href="#Xdalal75more">16</a>]</span>; and second, a hash of the
                                                  connection identifiers and a random internal secret, as in
                                                  Bellovin&#8217;s method of &#8220;keying&#8221; TCP ISNs&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc1948">5</a>]</span>. SST&#8217;s keyed
                                                  checksum offers slightly better protection than TCP&#8217;s keyed
                                                  sequence numbers, because an SST attacker must blindly guess
                                                  exactly the correct checksum key, not just any sequence number
                                                  within some validity window.
                                                    <h5 class="subsubsectionHead"><span class="titlemark">4.2.4   </span> <a 
 id="x1-200004.2.4"></a>Acknowledgments and Congestion Control</h5>

<table class="figure" align="right"><tr class="figure"><td class="figure" 
>
<a 
 id="x1-20001r4"></a>
<!--l. 35--><p class="noindent"><img 
src="sst3x.png" alt="PIC" class="graphics" ><!--tex4ht:graphics  
name="sst3x.png" src="ackct.eps"  
-->
<br /> <table class="caption" align="center"
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure 4: </td><td  
class="content">Packet Acknowledgment Example</td></tr></table><!--tex4ht:label?: x1-20001r4 -->
<!--l. 38--><p class="indent">  </td></tr></table>


                                                  <!--l. 13--><p class="noindent">The channel protocol attaches acknowledgment information
                                                  to each transmitted packet, and uses this information to
                                                  implement congestion control. Each transmitted packet
                                                  acknowledges a contiguous <span 
class="cmti-9">range </span>of received sequence numbers,
                                                  indicated in the packet header&#8217;s Ack Sequence Number (ASN)
                                                  and Ack Count (AckCt) fields. A host sends an acknowledgment
                                                  for every one or two upper-level data segments received as in
                                                  TCP&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc2581">2</a>]</span>, but sets the AckCt field as large as possible reflecting
                                                  the most recent contiguous run of packets received. Successive
                                                  acknowledgments therefore usually cover overlapping sequence
                                                  number ranges, minimizing the effects of a lost acknowledgment.
                                                  Figure&#x00A0;<a 
href="#x1-20001r4">4<!--tex4ht:ref: fig-ackct --></a> for example illustrates the behavior of a host that
                                                  acknowledges every packet, upon receiving sequence numbers 1
                                                  through 7 in order except for a lost packet with sequence
                                                  number 4.
                                                  <!--l. 33-->

<!--l. 42--><p class="indent">  Sending an acknowledgment range in each packet gives
SST the benefits of selective acknowledgment without the
overhead or complexity of variable-length SACK headers&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc2018">34</a>]</span>.
Because SST assigns each packet a fresh sequence number,
including retransmissions of previously-transmitted data, its
acknowledgments provide more information than even TCP
with D-SACK&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc2883">20</a>]</span>: the sender can tell exactly which
copy of a retransmitted segment arrived and detect false
retransmits before the receiver has seen duplication. SST
can thus implement improvements to TCP congestion
control&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc2581">2</a>]</span> such as forward acknowledgment&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xmathis96forward">35</a>]</span>,
reordering tolerance&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xblanton02making">10</a>]</span>, and delay-sensitive schemes like
TFRC&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc3448">25</a>]</span>. As SST implements congestion control at channel
granularity, applications may use many concurrent streams
without behaving &#8220;antisocially&#8221; as with redundant TCP
connections&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc2616">19</a>]</span>.

<div style="clear:both;"></div>

  <h4 class="subsectionHead"><span class="titlemark">4.3   </span> <a 
 id="x1-210004.3"></a>Stream Protocol</h4>
<!--l. 6--><p class="noindent">The stream layer multiplexes streams onto channels by
dividing application data into <span 
class="cmti-9">segments </span>according to the
current maximum transfer unit (MTU) of the network path,
and transmitting each segment as a separate packet on
the current channel. The receiving stream layer accepts
these potentially out-of-order segments and delivers them
in order to the application. The sender uses the channel
layer&#8217;s packet-oriented acknowledgments to determine when
a segment has been successfully received, so the stream
layer requires no byte-oriented acknowledgments as in
TCP.
<!--l. 25--><p class="indent">  The stream layer can attach a stream to a new channel before
detaching it from the old one, allowing the application
to continue using the stream without interruption while
transparently migrating the stream to the new channel. SST
does not treat channel failure due to loss of connectivity as a
&#8220;hard failure&#8221; like a TCP timeout. At the application&#8217;s option,
SST can retain stream state indefinitely until connectivity
resumes and the negotiation protocol creates a new channel. At
this point SST migrates the application&#8217;s streams to the new
channel and the application resumes where it left off. Stream
migration also supports end-to-end host mobility&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xsnoeren00endtoend">47</a> <a 
href="#Xsnoeren01reconsidering">48</a>]</span>: if a
host&#8217;s IP address changes, SST channels bound to that address
fail, but if either endpoint can find the other&#8217;s new address (e.g.,
one host is non-mobile or has a dynamic DNS name), SST can
create a fresh channel between the new address pair and
transparently migrate the application&#8217;s streams to the new
channel. Of course, if one endpoint host reboots, then its stream
state is normally lost and the application must create new
streams.
  <h5 class="subsubsectionHead"><span class="titlemark">4.3.1   </span> <a 
 id="x1-220004.3.1"></a>Stream Identification and Attachment</h5>
<!--l. 4--><p class="noindent">When the stream layer creates a new stream on behalf of an
application, it assigns the stream a <span 
class="cmti-9">Unique Stream Identifier </span>or
USID. A stream&#8217;s USID is at least 128 bits, remains fixed
through the stream&#8217;s lifetime, and identifies the stream
as it migrates from one channel to another. The stream
layer must then <span 
class="cmti-9">attach </span>the stream to a particular channel
before it can transmit application data. In the process of
attaching the stream to a channel, the stream layer assigns a
shorter, temporary 16-bit <span 
class="cmti-9">Local Stream Identifier </span>(LSID) to
identify the stream efficiently within the scope of that
particular channel. The stream layer uses this LSID in place of  the stream&#8217;s full USID in data segments it transmits on
                                                  this channel. The stream keeps its USID but gets a new
                                                  LSID each time SST attaches it to a different channel.
                                                  The application is not normally aware of either USIDs or
                                                  LSIDs.
                                                  <!--l. 22--><p class="indent">   While each stream has only one USID, LSIDs are specific not
                                                  only to a channel but to each direction of flow within that
                                                  channel. Each endpoint has its own LSID space for each
                                                  channel, in which it assigns LSIDs to streams independently of
                                                  its peer. Each host tracks both its own and its peer&#8217;s LSID
                                                  space, using its own LSID space to identify the stream for a
                                                  data segment it transmits to its peer, and using its peer&#8217;s
                                                  LSID space to identify the stream for a data segment it
                                                  receives. For bidirectional use, a stream must have two
                                                  LSIDs, one assigned by each host for each direction of
                                                  flow.
                                                    <h5 class="subsubsectionHead"><span class="titlemark">4.3.2   </span> <a 
 id="x1-230004.3.2"></a>Root and Top-Level Application Streams</h5>
                                                  <!--l. 4--><p class="noindent">When the stream protocol initiates negotiation of a new
                                                  channel, it creates and implicitly attaches a <span 
class="cmti-9">root stream </span>to
                                                  the channel. SST uses this root stream only for internal
                                                  signaling: the application is unaware of its existence. When an
                                                  application opens a &#8220;top-level&#8221; application stream via
                                                  <span class="obeylines-h"><span class="verb"><span 
class="cmtt-9">connect</span></span></span>, SST first opens a channel to the desired host if
                                                  none already exists, then creates a child of the channel&#8217;s
                                                  invisible root stream for the application&#8217;s use. SST can
                                                  reuse the same channel and root stream to create many
                                                  top-level streams to the same target host, avoiding 3-way
                                                  handshakes for successive top-level streams in the same way
                                                  that it does for substreams the application creates via
                                                  <span class="obeylines-h"><span class="verb"><span 
class="cmtt-9">create_substream</span></span></span>.
                                                  <!--l. 26--><p class="indent">   TCP uses its port numbers for two purposes: to distinguish
                                                  among transport instances between the same pair of hosts,
                                                  and to name application <span 
class="cmti-9">rendezvous points </span>via well-known
                                                  port numbers. SST splits these two functions, using LSIDs
                                                  exclusively for stream multiplexing, and using explicit <span 
class="cmti-9">service</span>
                                                  <span 
class="cmti-9">negotiation </span>for rendezvous. When the stream layer creates a
                                                  new top-level stream, before handing this stream to the
                                                  application, it first sends a message on the new stream to the
                                                  responding host&#8217;s stream layer, indicating the rendezvous
                                                  point the initiating application wishes to connect to. The
                                                  responding stream layer intercepts this message and replies
                                                  indicating whether an application is listening at the given
                                                  rendezvous point. On success, both stream layers then
                                                  hand this top-level stream to the respective applications.
                                                  An SST rendezvous point is currently a pair of strings:
                                                  a <span 
class="cmti-9">service name </span>(e.g., &#8220;<span class="obeylines-h"><span class="verb"><span 
class="cmtt-9">www</span></span></span>&#8221;) and a <span 
class="cmti-9">protocol name </span>(e.g.,
                                                  &#8220;<span class="obeylines-h"><span class="verb"><span 
class="cmtt-9">http</span></span></span>&#8221;).
                                                    <h5 class="subsubsectionHead"><span class="titlemark">4.3.3   </span> <a 
 id="x1-240004.3.3"></a>Creating Streams</h5>

<table class="figure" align="right"><tr class="figure"><td class="figure" 
>
<a 
 id="x1-24001r5"></a>
<!--l. 58--><p class="noindent"><img 
src="sst4x.png" alt="PIC" class="graphics"><!--tex4ht:graphics  
name="sst4x.png" src="datapkts.eps"  
-->
<br /> <table class="caption" align="center"
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure 5: </td><td  
class="content">Stream Data Transfer Packets</td></tr></table><!--tex4ht:label?: x1-24001r5 -->
<!--l. 61--><p class="indent">  </td></tr></table>

                                                  <!--l. 22--><p class="noindent">To create a new child of a stream already attached to a channel,
                                                  the stream layer sends an Init packet, shown in Figure&#x00A0;<a 
href="#x1-24001r5">5<!--tex4ht:ref: fig-datapkts --></a>. The
                                                  initiator specifies the LSID it assigned the new stream and the
                                                  LSID of the existing parent, both in the initiator&#8217;s LSID space.
                                                  The packet may also carry application data for the new stream,
                                                  as described below.
                                                  <!--l. 33--><p class="indent">   Although Init packets carry no USIDs, the hosts must <span 
class="cmti-9">agree</span>
                                                  on a USID for the new stream so they can attach the stream to
                                                  other channels. Each host uses a convention for assigning LSIDs
                                                  that allows an Init packet&#8217;s receiver to extrapolate a USID from
                                                  the new stream&#8217;s 16-bit LSID. Each host assigns LSIDs in its
                                                  LSID space for a channel using the low 16 bits of a 64-bit
counter, and its peer tracks this counter and extrapolates the
full 64-bit value from a received LSID the same way the channel
layer extrapolates packet sequence numbers. The hosts use these
64-bit counters, plus a pseudorandom nonce unique to the
channel and flow direction, to agree on the new stream&#8217;s
USID implicitly. The initiator may skip counter values
corresponding to LSIDs still in use by other streams, provided
it doesn&#8217;t get too far ahead of its peer and lose counter
synchronization.
<!--l. 56-->

<!--l. 63--><p class="indent">  Upon receiving an Init packet with an unknown LSID, the
responder records the new LSID, then sends a Reply packet to
assign its own &#8220;return-path&#8221; LSID to the new stream for
data transfer in the opposite direction. The Reply packet
has the same format as an Init packet, except it contains
the initiator&#8217;s just-assigned LSID for the new stream in
place of the parent stream&#8217;s LSID (see Figure&#x00A0;<a 
href="#x1-24001r5">5<!--tex4ht:ref: fig-datapkts --></a>). The
responder assigns LSIDs using its 64-bit counter as above to
maintain counter synchronization, but does not use the
counter to derive a USID since each stream requires only one
USID.
  <h5 class="subsubsectionHead"><span class="titlemark">4.3.4   </span> <a 
 id="x1-250004.3.4"></a>Data Transfer and Acknowledgment</h5>
<!--l. 23--><p class="noindent">Both Init and Reply packets may contain application data and
stream control flags. The initiator uses Init packets to start
sending data on the new stream immediately without waiting
for the receiver&#8217;s acknowledgment, eliminating TCP&#8217;s 3-way
handshake delay on new streams once a channel has been
opened to the desired host. The responder may similarly start
sending response data immediately via Reply packets. The Init
and Reply packets contain a 16-bit Byte Sequence Number
(BSN) field indicating the data segment&#8217;s logical offset in the
new stream, so a host can send up to 2<sup><span 
class="cmr-6">16</span></sup> <span 
class="cmsy-9">- </span>1 + <span 
class="cmmi-9">MTU </span>bytes of
data this way before it must start using using ordinary Data
packets, which it can do only after receiving an acknowledgment
indicating that the peer is aware of the newly assigned
LSID.
<!--l. 48--><p class="indent">  Data packets have the same structure as Init and Reply
packets, except that they have a 32-bit BSN and no PSID or
RSID (see Figure&#x00A0;<a 
href="#x1-24001r5">5<!--tex4ht:ref: fig-datapkts --></a>). The stream layer uses this BSN to
reassemble data segments in the correct order at the receiver,
using wraparound arithmetic as in TCP, making the longevity
of a stream effectively unlimited.
<!--l. 56--><p class="indent">  A host buffers each data segment it sends until it receives an
acknowledgment for that segment, periodically retransmitting
unacknowledged segments. Since the channel layer&#8217;s
acknowledgments refer to packet sequence numbers and not
byte sequence numbers, the sender records the packet sequence
numbers the channel protocol assigns each data segment during
recent transmission attempts, in order to lookup and free the
segment when a corresponding acknowledgment arrives. Since
the channel layer&#8217;s packet sequence numbers are independent of
the stream layer&#8217;s LSIDs, a packet in one stream may effectively
acknowledge segments in other streams. The stream layer uses a
separate Ack packet type to send acknowledgments that
cannot be piggybacked onto data flowing in the opposite
direction.
<!--l. 74--><p class="indent">  Since the channel layer&#8217;s acknowledgments are definitive, the
receiver must only acknowledge a data segment once it has fully
processed and locally buffered the segment. If the receiver
cannot process a segment due to a temporary resource shortage,
it may drop the segment without acknowledgment, but using
flow control to avoid the need to drop segments is preferred
since dropped segments trigger the sender&#8217;s congestion control
and affect the entire channel.
<!--l. 85--><p class="indent">  If a data segment already transmitted must be retransmitted
with a smaller MTU, the sender &#8220;re-fragments&#8221; the segment
into smaller segments for retransmission, adjusting the BSN
fields in the new segments accordingly. A host may also
repackage an Init or Reply packet&#8217;s data into an ordinary Data
packet for retransmission, if an acknowledgment for some other  Init or Reply packet arrives in the meantime.
                                                  <!--l. 4--><p class="indent">   Init, Reply, and Data packets contain Push (P) and
                                                  Close (C) flags that work like TCP&#8217;s PSH and FIN flags,
                                                  indicating data that should be pushed to the application and
                                                  marking the end of stream, respectively. Section&#x00A0;<a 
href="#x1-300004.3.9">4.3.9<!--tex4ht:ref: sec-hazards --></a>
                                                  below describes how SST garbage collects stream state after
                                                  close.
                                                    <h5 class="subsubsectionHead"><span class="titlemark">4.3.5   </span> <a 
 id="x1-260004.3.5"></a>Datagram Delivery</h5>
                                                  <!--l. 15--><p class="noindent">When the application submits a datagram to be sent as an
                                                  &#8220;ephemeral substream&#8221; with best-effort semantics as described
                                                  in Section&#x00A0;<a 
href="#x1-80002.2">2.2<!--tex4ht:ref: sec-arch-datagram --></a>, the stream layer checks that the datagram is
                                                  small enough to ensure a reasonable chance of successful
                                                  delivery, and if so transmits it using a sequence of Datagram
                                                  packets shown in Figure&#x00A0;<a 
href="#x1-24001r5">5<!--tex4ht:ref: fig-datapkts --></a>. The first packet in the sequence has
                                                  the First (F) flag set, the last packet has the Last (L) flag set,
                                                  and the packets have consecutive sequence numbers, allowing
                                                  the receiver to determine when a received datagram is complete.
                                                  Each packet&#8217;s LSID refers to the parent stream; the sender
                                                  never assigns an LSID or maintains any state for the ephemeral
                                                  child substream.
                                                  <!--l. 33--><p class="indent">   If the sending stream layer judges the ephemeral substream to
                                                  be too large for delivery as a datagram, it sends the substream
                                                  instead in standard reliable fashion using Init and Data packets,
                                                  retransmitting individual segments as necessary, and closes the
                                                  substream when finished. The receiving application obtains no
                                                  indication of the actual delivery method by which the ephemeral
                                                  substream arrived.
                                                    <h5 class="subsubsectionHead"><span class="titlemark">4.3.6   </span> <a 
 id="x1-270004.3.6"></a>Flow Control</h5>
                                                  <!--l. 11--><p class="noindent">While congestion control operates at channel granularity, SST
                                                  provides flow control for each stream individually, allowing the
                                                  receiving application to accept data at different rates on each
                                                  stream. Every packet the stream layer sends contains a receive
                                                  window update, indicated in the header&#8217;s 5-bit Window
                                                  field. This field uses an exponential encoding: a value <span 
class="cmmi-9">n</span>
                                                  indicates a window of <span 
class="cmti-9">at least </span>2<sup><span 
class="cmmi-6">n</span></sup> <span 
class="cmsy-9">- </span>1 bytes. When the
                                                  window is large, the sender does not need to know its
                                                  size precisely since it will take a while to fill anyway, but
                                                  the receiver&#8217;s updates become more precise as its buffers
                                                  fill and the window shrinks. To avoid a variant of silly
                                                  window syndrome&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc813">15</a>]</span>, the sender never fragments data
                                                  segments just to make a partial segment fit into the receive
                                                  window: instead it waits until the window can accommodate a
                                                  full-size segment, or a short segment containing a Push
                                                  marker.
                                                  <!--l. 48--><p class="indent">   TCP uses its cumulative acknowledgment position as a &#8220;base&#8221;
                                                  from which to calculate the window horizon, but SST has no
                                                  cumulative acknowledgments from which to calculate such a
                                                  horizon. SST&#8217;s window credit instead represents the total
                                                  number of unacknowledged bytes the sender may have in flight.
                                                  The receiver deducts from its advertised window the size of each
                                                  segment it receives and acknowledges, and cancels this
                                                  deduction once it delivers the segment to the application. The
                                                  sender similarly deducts each segment it sends from its
                                                  window credit and cancels this deduction when the segment
                                                  is acknowledged, even if the segment was received and
                                                  acknowledged out of order. The sender tracks the packet
                                                  sequence numbers of window updates and always uses only the
                                                  most recently-sent update.
                                                  <!--l. 84--><p class="indent">   For flow control, SST treats an Init packet&#8217;s data as belonging
                                                  to the <span 
class="cmti-9">parent </span>stream&#8212;the stream specified in the packet&#8217;s PSID
field&#8212;although the data is semantically part of the new
child stream. In effect, when a host sends data on a new
stream without waiting for an initial window size from
the responder, the sender &#8220;borrows&#8221; from the parent&#8217;s
receive window to send this initial data. This borrowing
maintains proper flow control and avoids receive buffer
overrun while allowing stream creation with no round-trip
delay.
  <h5 class="subsubsectionHead"><span class="titlemark">4.3.7   </span> <a 
 id="x1-280004.3.7"></a>Detaching and Migrating Streams</h5>
<!--l. 4-->

<table class="figure" align="right"><tr class="figure"><td class="figure" 
>
<a 
 id="x1-28001r6"></a>
<!--l. 6--><p class="noindent"><img 
src="sst5x.png" alt="PIC" class="graphics"><!--tex4ht:graphics  
name="sst5x.png" src="ctlpkts.eps"  
-->
<br /> <table class="caption" align="center"
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure 6: </td><td  
class="content">Stream Control Packets</td></tr></table><!--tex4ht:label?: x1-28001r6 -->
<!--l. 9--><p class="noindent"></td></tr></table>

<!--l. 11--><p class="indent">  The stream layer sends an Attach packet, shown in Figure&#x00A0;<a 
href="#x1-28001r6">6<!--tex4ht:ref: fig-ctlpkts --></a>,
to attach an existing stream to a new channel. The Attach
packet contains the LSID assigned by the sender and the
permanent USID of the stream to be attached. The sender
can attach a stream to a limited number of channels at
once (currently two), and indicates via an <span 
class="cmti-9">attachment slot</span>
<span 
class="cmti-9">number </span>which of these potential attachments it is using.
The receiver looks up the stream by the specified USID,
associates the specified attachment slot in that stream with
the specified LSID in the channel on which the Attach
packet arrived, and acknowledges the packet via the channel
layer.
<!--l. 54--><p class="indent">  A host may detach a stream from a channel, freeing the
stream&#8217;s LSID in that channel for use by other streams, by
sending a Detach packet (Figure&#x00A0;<a 
href="#x1-28001r6">6<!--tex4ht:ref: fig-ctlpkts --></a>). By detaching idle streams
the application has not used for some time and treating its
LSID space as a cache, SST can manage an arbitrary number of
streams. Host API issues may impose limits on the number of
open streams, such as Unix&#8217;s file descriptor limit&#8212;but in the
current user space SST prototype, which does not use file
descriptors for streams, the number of open streams is limited
only by available memory.                            
                                                    <h5 class="subsubsectionHead"><span class="titlemark">4.3.8   </span> <a 
 id="x1-290004.3.8"></a>Forceful Reset</h5>
                                                  <!--l. 5--><p class="noindent">As in TCP, either host may unilaterally terminate an SST
                                                  stream in both directions and discard any buffered data. A
                                                  host resets a stream by sending a Reset packet (Figure&#x00A0;<a 
href="#x1-28001r6">6<!--tex4ht:ref: fig-ctlpkts --></a>)
                                                  containing an LSID in either the sender&#8217;s or receiver&#8217;s LSID
                                                  space, and an O (Orientation) flag indicating in which
                                                  space the LSID is to be interpreted. When a host uses
                                                  a Reset packet to terminate a stream it believes to be
                                                  active, it uses its own LSID referring to the stream, and
                                                  resends the Reset packet as necessary until it obtains an
                                                  acknowledgment.
                                                  <!--l. 19--><p class="indent">   A host also sends a Reset in response to a packet it receives
                                                  referring to an unknown LSID or USID. This situation may
                                                  occur if the host has closed and garbage collected its state for a
                                                  stream but one of its acknowledgments to its peer&#8217;s data
                                                  segments is lost in transit, causing its peer to retransmit those
                                                  segments. The stateless Reset response indicates to the peer
                                                  that it can garbage collect its stream state as well. Stateless
                                                  Reset responses always refer to the peer&#8217;s LSID space, since by
                                                  definition the host itself does not have an LSID assigned to the
                                                  unknown stream.
                                                    <h5 class="subsubsectionHead"><span class="titlemark">4.3.9   </span> <a 
 id="x1-300004.3.9"></a>Garbage Collecting and Reusing LSIDs</h5>
                                                  <!--l. 6--><p class="noindent">An SST application that uses one stream per transaction may
                                                  create and destroy streams rapidly: in the worst case, a host
                                                  can create a stream, assign it an LSID, transmit up to an
                                                  MTU of data, and close its end of the stream, all with one
                                                  Init packet. The responder may similarly acknowledge
                                                  the Init packet, send up to one MTU of response data,
                                                  and close the stream, with one Reply packet. SST may
                                                  therefore reuse 16-bit LSIDs for many successive streams
                                                  within a channel&#8217;s lifetime, leading to the risk of confusing
                                                  packets referring to different uses of the same LSID. This is
                                                  the same problem that at a lower level motivates TCP&#8217;s
                                                  ISN selection&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xtomlinson75selecting">53</a> <a 
href="#Xsunshine78connection">51</a>]</span> and the channel protocol&#8217;s keyed
                                                  authenticators.
                                                  <!--l. 31--><p class="indent">   To avoid confusing old and new uses of an LSID, after
                                                  detaching an LSID the stream layer imposes a &#8220;quiet period&#8221;
                                                  before creating or attaching another stream with the same
                                                  LSID. This quiet period corresponds to TCP&#8217;s TIME-WAIT,
                                                  but SST counts the duration of this quiet period in packet
                                                  sequence numbers instead of wall-clock time, relying on
                                                  the channel layer&#8217;s mis-ordering limit (MOL). With a 32
                                                  packet MOL, for example, after detachment a host waits for
                                                  both its and its peer&#8217;s sequence numbers to advance 32
                                                  packets beyond a point when both hosts know about the
                                                  detachment. The channel&#8217;s replay logic drops packets that arrive
                                                  so late that they might confuse new stream attachments
                                                  using this LSID. Because the MOL is a (typically small)
                                                  constant, and one packet can attach and/or detach only one
                                                  stream, the number of LSIDs that may be stuck in this quiet
                                                  period is similarly small, regardless of packet rate. The
                                                  mis-ordering limit thus avoids the need for time-bounded
                                                  TIME-WAITs and eliminate the risk of state overload under
                                                  heavy use&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xfaber99timewait">18</a>]</span>.
                                                    <h4 class="subsectionHead"><span class="titlemark">4.4   </span> <a 
 id="x1-310004.4"></a>The Negotiation Protocol</h4>
                                                  <!--l. 9--><p class="noindent">The negotiation protocol is responsible for setting up new
                                                  channels with either weak or strong security. Negotiation with
                                                  weak security sets up the unpredictable checksum key described
                                                  in Section&#x00A0;<a 
href="#x1-190004.2.3">4.2.3<!--tex4ht:ref: sec-sec --></a>. The initiator may piggyback application data
onto the first negotiation protocol packet, allowing channel
setup with no effective round-trip overhead, but the responder
may ignore this initial data and return a cookie challenge if it is
loaded or under DoS attack.
<!--l. 22--><p class="indent">  The strong security mode uses Just Fast Keying&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xaiello04jfk">1</a>]</span> to
establish shared cryptographic secrets and verify host identities
using a simple, fixed four-message (two round-trip) exchange.
The last two messages may carry piggybacked application data,
for an effective minimum channel setup overhead of one round
trip, identical to TCP&#8217;s.
<!--l. 29--><p class="indent">  SST is designed to work with UIA ad hoc naming&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xford06persistent">22</a>]</span> and
UIP routing&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xford03scalable">21</a>]</span> to support seamless communication among
both fixed and mobile personal devices. UIA, UIP, and SST use
cryptographic host identifiers analogous to those of HIP&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc4423">36</a>]</span>
to identify endpoints securely, so when a host&#8217;s IP address
changes, SST merely reruns the negotiation protocol to
establish a channel between the new addresses, and migrates
existing streams to the new channel.
  <h3 class="sectionHead"><span class="titlemark">5   </span> <a 
 id="x1-320005"></a>Evaluation</h3>
<!--l. 12--><p class="noindent">This section reports on preliminary experience implementing
and using SST in real and simulated environments. We examine
how SST scales across transaction sizes in comparison with
TCP and UDP, how Web-style transactions on SST compare
with non-persistent, persistent, and pipelined HTTP over TCP,
and how applications can dynamically prioritize SST streams to
improve interactive responsiveness.
  <h4 class="subsectionHead"><span class="titlemark">5.1   </span> <a 
 id="x1-330005.1"></a>Implementation</h4>
<!--l. 25--><p class="noindent">The initial SST prototype takes the form of a user-space library
written in C++, which runs on Linux, BSD, Mac OS X, and
Windows. The library implements SST atop UDP, so its use
requires no special privileges or OS extensions, and the library
can be statically linked into or distributed with applications
to minimize deployment burden on users. The prototype
implements most of the SST protocol design, including classic
TCP congestion control&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc2581">2</a>]</span>, but a few features such as
flow control and MTU discovery are still incomplete. The
prototype also allows the application to assign priority levels to
streams, for explicit control of data transmission within the
scope of a congestion controlled channel. For controlled
testing and simulation, the library allows client applications
to run multiple instances of SST simultaneously in one
process, and to virtualize SST&#8217;s use of the host&#8217;s timing and
networking facilities. The prototype currently totals about
13,000 source lines, or 4,400 semicolons, and is available at
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-9"><a href="http://pdos.csail.mit.edu/uia/sst/">http://pdos.csail.mit.edu/uia/sst/</a></span></span></span>.
  <h4 class="subsectionHead"><span class="titlemark">5.2   </span> <a 
 id="x1-340005.2"></a>Experience with Applications</h4>
<!--l. 56--><p class="noindent">The SST prototype is in regular use by Netsteria, an
experimental peer-to-peer application supporting text-based
chat, voice-over-IP calling and conferencing, and swarming file
transfers.  Netsteria&#8217;s combination of different types of
network activities operating concurrently serves well to
exercise SST&#8217;s capabilities and drive its development. The
file transfer mechanism, for example, divides files into
variable-length blocks and uses a separate SST stream for
each block request/reply transaction, making use of SST&#8217;s
scalability over transaction sizes. The voice chat mechanism
uses SST&#8217;s ephemeral substreams to transmit small media
frames efficiently with best-effort delivery to minimize        latency.
                                                    <h4 class="subsectionHead"><span class="titlemark">5.3   </span> <a 
 id="x1-350005.3"></a>Performance Validation</h4>
                                                  <!--l. 100--><p class="noindent">To test SST&#8217;s basic performance against the &#8220;gold standard&#8221; of
                                                  TCP, we first run microbenchmarks of raw bandwidth and
                                                  TCP-friendliness on three transports: the SST prototype, the
                                                  host operating system&#8217;s native TCP, and a user-space TCP
                                                  implementation that was developed alongside the SST library
                                                  for comparison purposes. Though the native TCPs are more
                                                  mature, the user-space TCP can run on either a real or
                                                  simulated network like the SST library. Since SST always uses
                                                  selective acknowledgments, the user-space TCP implements
                                                  TCP&#8217;s SACK extension to ensure a fair comparison, as do the
                                                  native TCP stacks on the hosts used for testing. Since TCP
                                                  does not provide cryptographic security, the benchmarks run
                                                  SST in its comparable checksum-based authentication
                                                  mode.
                                                  <!--l. 121--><p class="indent">   Downloading a 10MB file from a PC running SuSE Linux 10.0
                                                  to a MacBook Pro running Mac OS 10.4.8 over a real 1.5Mbps
                                                  DSL connection, and taking the best of three runs to factor out
                                                  out possible delays caused by unrelated system daemon activity,
                                                  SST was measured to be 1.0% slower than native TCP, and
                                                  user-space TCP was 2.1% slower&#8212;a difference barely out of the
                                                  noise, but attributable to the overhead of implementing
                                                  transports outside the kernel atop UDP. Running the same
                                                  benchmark over an 802.11g wireless LAN providing about
                                                  18Mbps maximum throughput, SST was 7.1% slower than
                                                  native TCP, and user-space TCP was 3.6% slower. These
                                                  results suggest that even the unoptimized SST prototype
                                                  performs adequately on &#8220;consumer-grade&#8221; networks, although
                                                  a more optimized implementation would be desired on
                                                  high-speed networks. Comparing SST against the user-space
                                                  TCP on simulated networks with similar parameters, the
                                                  two transports exhibited identical performance to within
                                                  0.2%.
                                                  <!--l. 145--><p class="indent">   The second benchmark runs two downloads at once&#8212;one
                                                  using the native TCP, the other using either SST or the
                                                  user-space TCP&#8212;to verify &#8220;TCP-friendly&#8221; congestion control
                                                  behavior. The user-space transports were found to be extremely
                                                  fair, and just barely less aggressive than native TCP: SST takes
                                                  a 48.8% bandwidth share against native TCP&#8217;s 51.2% share,
                                                  and the user-space TCP takes 48.1% against native TCP&#8217;s
                                                  51.9%. This result is unsurprising given that both user-space
                                                  transports essentially implement the classic TCP congestion
                                                  control schemes.
                                                    <h4 class="subsectionHead"><span class="titlemark">5.4   </span> <a 
 id="x1-360005.4"></a>Scalability over Transaction Size</h4>
                                                  <!--l. 184--><p class="noindent">We now compare SST against TCP and UDP when used
                                                  for Web-style transactions in which the request is small
                                                  but the response varies in size. Since we wish to examine
                                                  how SST&#8217;s performance scales when the application uses
                                                  transport instances to match its transaction structure, this
                                                  test uses one SST or TCP stream per transaction as in
                                                  HTTP/1.0, leaving HTTP/1.1 persistent streams to the
                                                  next section. The UDP test operates as in DNS or RPC,
                                                  with each request datagram soliciting a single response
                                                  datagram.
                                                  <!--l. 195-->

<table class="figure" align="right"><tr class="figure"><td class="figure" 
>
<a 
 id="x1-36001r7"></a>
<!--l. 197--><p class="noindent"><img 
src="sst6x.png" alt="PIC" class="graphics"><!--tex4ht:graphics  
name="sst6x.png" src="results/transact/quiet.eps"  
-->
<br /> <table class="caption" align="center"
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure 7: </td><td  
class="content">Transactional use of UDP, TCP, and SST <br>
over a
2<sup><span 
class="cmr-6">16</span></sup><span 
class="cmsy-9">&#x00D7; </span>range of transaction sizes.</td></tr></table><!--tex4ht:label?: x1-36001r7 -->
<!--l. 201--><p class="indent">  </td></tr></table>

<!--l. 203--><p class="indent">  Figure&#x00A0;<a 
href="#x1-36001r7">7<!--tex4ht:ref: fig-scaling --></a> shows client-observed transaction latency on a
log/log plot for responses ranging from 32 bytes to two
megabytes, measured on the real 1.5Mbps DSL connection
described above, which has about 50ms minimum latency. For
small transactions where network latency dominates, TCP takes
twice as long as UDP due to its 3-way handshake. UDP ceases
functioning beyond around 8KB due to middleboxes on the test
connection, and IP version 4 limits datagrams to 64KB in any
case. In this test the network connection was quiescent and no
UDP datagrams were lost, but in a second test whose results are
not shown, on a connection loaded with two concurrent
long-running TCP downloads, the effective UDP datagram loss
rate often exceeded 50% even at the widely-used 8KB datagram
size.
<!--l. 222--><p class="indent">  As the graph shows, SST can create new streams for small
transactions with the same low latency as UDP, while
scaling to support long-running transfers. The SST test runs
its transactions over a &#8220;warm&#8221; communication channel
already set up by the negotiation protocol, representing the
common case in which a client makes multiple requests
to the same server. Even without a warm channel, SST
can piggyback the first application request and response
data segments onto the negotiation protocol packets if
cryptographic security is not required and the responder is not
heavily loaded, retaining a total latency of one round trip.
Otherwise, SST adds one round trip delay for channel
setup.

<div style="clear:both;"></div>

  <h4 class="subsectionHead"><span class="titlemark">5.5   </span> <a 
 id="x1-370005.5"></a>Web Traffic Workload</h4>

<!--l. 270--><p class="noindent">HTTP/1.1 addressed the inefficiency of short-lived TCP
streams through persistent connections, which are now in
common use, and pipelining, which is not. Since SST attempts
to offer the benefits of persistent streams with the simplicity of
the one-transaction-per-stream model, we now compare SST
against the behavior of several flavors of HTTP over TCP,
under a simulated web workload.
<!--l. 288--><p class="indent">  For this test we simulate a series of web page loads, each page
consisting of a &#8220;primary&#8221; HTTP request for the HTML,
followed by a batch of &#8220;secondary&#8221; requests for embedded
objects such as images. As the simulation&#8217;s workload we use a
fragment of the UC Berkeley Home IP web client traces
available from the Internet Traffic Archive&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xita">27</a>]</span>. We sort the
trace by client IP address so that each user&#8217;s activities are
contiguous, then we use only the order and sizes of requests to
drive the simulation, ignoring time stamps. Since the traces do
not indicate which requests belong to one web page, the
simulation approximates this information by classifying
requests by extension into &#8220;primary&#8221; (e.g., &#8216;<span 
class="cmtt-9">.html</span>&#8217; or no
extension) and &#8220;secondary&#8221; (e.g., &#8216;<span 
class="cmtt-9">gif</span>&#8217;, &#8216;<span 
class="cmtt-9">.jpg</span>&#8217;, &#8216;<span 
class="cmtt-9">.class</span>&#8217;),
and then associating each contiguous run of secondary
requests with the immediately preceding primary request.
The simulation pessimistically assumes that the browser
cannot begin requesting secondary objects until it has
downloaded the primary object completely, but at this point
it can in theory request all of the secondary objects in
parallel.

<!--l. 262--><p class="indent">  <a 
 id="x1-37001r8"></a><hr class="float"><div class="float" 
><table class="float" align="center"><tr class="float"><td class="float" align="center"
>
<img 
src="sst7x.png" alt="PIC" class="graphics"><!--tex4ht:graphics  
name="sst7x.png" src="results/ucbweb/pages.eps"  
-->
<br /> <table class="caption" align="center"
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure 8: </td><td  
class="content">Web workload comparing single-transaction SST streams against four HTTP flavors over TCP.</td></tr></table><!--tex4ht:label?: x1-37001r8 -->
  </td></tr></table></div><hr class="endfloat" />

<!--l. 313--><p class="indent">  Figure&#x00A0;<a 
href="#x1-37001r8">8<!--tex4ht:ref: fig-ucbweb --></a> shows a scatter plot of the total duration of each
web page load against the total size of all downloads for that
page, on the simulated 1.5Mbps network used in Section&#x00A0;<a 
href="#x1-350005.3">5.3<!--tex4ht:ref: sec-validation --></a>.
The plot is divided into five groups by the total number of
HTTP requests per web page. The leftmost group, for
pages with no secondary requests, has a best-case load time
half that of other groups, because in the latter groups
secondary requests do not start until the primary request
completes. The points labeled &#8220;HTTP/1.0 serial&#8221; reflect
the behavior of early web browsers that load pages by
opening TCP connections for each request sequentially,
&#8220;HTTP/1.0 parallel&#8221; represents browsers that open up to eight
single-transaction TCP streams in parallel, &#8220;HTTP/1.1
persistent&#8221; represents modern browsers that use up to two
concurrent persistent TCP streams as per RFC 2616&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc2616">19</a>]</span>,
and &#8220;HTTP/1.1 pipelined&#8221; uses two concurrent streams
with up to four pipelined requests each. The SST case
uses one transaction per stream, as in HTTP/1.0, but
imposes no limit on the number of parallel streams. As the
graph indicates, HTTP/1.0 over SST achieves performance
comparable to pipelined HTTP/1.1 streams over TCP, both of
which are much faster than other methods, including the
current common case of persistent but non-pipelined TCP
streams.
  <h4 class="subsectionHead"><span class="titlemark">5.6   </span> <a 
 id="x1-380005.6"></a>Dynamic Prioritization</h4>

<!--l. 392--><p class="noindent">In a final experiment, we consider a hypothetical SST-enabled
web browser in which a user views a &#8220;photo album&#8221; page
containing several large images. Traditional browsers load
the images on a page from top to bottom, so if the user
immediately scrolls within the page after opening it, or
clicks on a link to a text anchor somewhere in the middle
of the page, she must wait until the browser loads the
(probably invisible) images above the visible area before the    desired images begin to appear. Our SST-enabled browser
                                                  instead expedites the loading of the image(s) within the
                                                  currently visible scroll area&#8212;perhaps in particular the
                                                  image immediately under the user&#8217;s mouse pointer. In
                                                  this scenario, the image to be expedited might change
                                                  at any time as the user scrolls the window or moves the
                                                  mouse.


<table class="figure" align="right"><tr class="figure"><td class="figure" 
>
<a 
 id="x1-38001r9"></a>
<!--l. 435--><p class="noindent"><img 
src="sst8x.png" alt="PIC" class="graphics"><!--tex4ht:graphics  
name="sst8x.png" src="results/prio/prio.eps"  
-->
<br /> <table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure 9: </td><td  
class="content">Dynamic Request Prioritization</td></tr></table><!--tex4ht:label?: x1-38001r9 -->
<!--l. 438--><p class="indent">  </td></tr></table>

                                                  <!--l. 409--><p class="indent">   With persistent or pipelined TCP connections, the browser
                                                  cannot change the order of requests already in the pipeline, but
                                                  with SST the browser and web server can cooperate to achieve
                                                  the desired result. The client specifies an initial priority
                                                  for each request it submits, and changes the priority of
                                                  a request already in progress by spawning a temporary
                                                  substream from the request&#8217;s original stream and sending a
                                                  short &#8220;change priority&#8221; message on this substream. On
                                                  receipt, the server attaches this new priority level to the
                                                  appropriate SST stream on its end, causing its stream
                                                  layer to transmit data for high-priority streams before
                                                  others. This prioritization feature required no changes to the
                                                  SST protocol as described in Section&#x00A0;<a 
href="#x1-140004">4<!--tex4ht:ref: sec-proto --></a>, and only a minor
                                                  API extension to the SST implementation for the server&#8217;s
                                                  use.
                                                  <!--l. 433-->

<!--l. 440--><p class="indent">  Figure&#x00A0;<a 
href="#x1-38001r9">9<!--tex4ht:ref: fig-prio --></a> shows the behavior observed by the client in a
simple scenario on the usual simulated 1.5Mbps network. At
time zero the client requests two 1.5MB files at normal priority,
and the server divides return bandwidth evenly between them.
At five seconds the client submits a third request labeled
high-priority, causing the server to commit all bandwidth to the
new request, temporarily blocking the old ones. At ten seconds
the client submits two priority change requests, changing
Request 1 to high-priority and Request 3 to normal, and the
client observes the priority changes take effect one round-trip
later. When Request 1 finally completes, the remaining two
requests again divide available bandwidth evenly until they
complete as well.

<div style="clear:both;"></div>

  <h4 class="subsectionHead"><span class="titlemark">5.7   </span> <a 
 id="x1-390005.7"></a>Wire Efficiency</h4>

<!--l. 457--><p class="indent">  <a 
 id="x1-39001r1"></a>
<table class="float" align="right"><tr class="float"><td class="float" 
>
<div class="tabular"><table class="tabular" 
cellspacing="0" cellpadding="0" rules="groups" 
><colgroup id="TBL-3-1g"><col 
id="TBL-3-1"></colgroup><colgroup id="TBL-3-2g"><col 
id="TBL-3-2"><col 
id="TBL-3-3"><col 
id="TBL-3-4"></colgroup><colgroup id="TBL-3-5g"><col 
id="TBL-3-5"><col 
id="TBL-3-6"><col 
id="TBL-3-7"></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-3-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-1-1"  
class="td11">                 </td><td colspan="3" style="white-space:nowrap; text-align:center;" id="TBL-3-1-2"  
class="td11">   <div class="multicolumn"  style="white-space:nowrap; text-align:center;"><span 
class="cmr-8">Stream Delivery</span></div> </td><td colspan="3" style="white-space:nowrap; text-align:center;" id="TBL-3-1-5"  
class="td11"> <div class="multicolumn"  style="white-space:nowrap; text-align:center;"><span 
class="cmr-8">Datagram Delivery</span></div>
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-2-1"  
class="td11">                 </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-2-2"  
class="td11"><span 
class="cmr-8">SST</span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-2-3"  
class="td11"><span 
class="cmr-8">TCP</span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-2-4"  
class="td11"><span 
class="cmr-8">SCTP</span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-2-5"  
class="td11"><span 
class="cmr-8">SST</span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-2-6"  
class="td11"><span 
class="cmr-8">UDP</span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-2-7"  
class="td11"><span 
class="cmr-8">DCCP</span></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-3-1"  
class="td11"><span 
class="cmr-8">Data Packet </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-3-2"  
class="td11"><span 
class="cmr-8">20   </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-3-3"  
class="td11"><span 
class="cmr-8">20   </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-3-4"  
class="td11"><span 
class="cmr-8">28     </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-3-5"  
class="td11"><span 
class="cmr-8">16   </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-3-6"  
class="td11"><span 
class="cmr-8">8     </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-3-7"  
class="td11"><span 
class="cmr-8">12      </span></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-4-1"  
class="td11"><span 
class="cmr-8">Ack Packet  </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-4-2"  
class="td11"><span 
class="cmr-8">20   </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-4-3"  
class="td11"><span 
class="cmr-8">20   </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-4-4"  
class="td11"><span 
class="cmr-8">28     </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-4-5"  
class="td11"><span 
class="cmr-8">16   </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-4-6"  
class="td11"><span 
class="cmr-8">&#8212;    </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-4-7"  
class="td11"><span 
class="cmr-8">16      </span></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-5-1"  
class="td11"><span 
class="cmr-8">Sack Packet </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-5-2"  
class="td11"><span 
class="cmr-8">20   </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-5-3"  
class="td11"><span 
class="cmr-8">32+ </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-5-4"  
class="td11"><span 
class="cmr-8">28+   </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-5-5"  
class="td11"><span 
class="cmr-8">16   </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-5-6"  
class="td11"><span 
class="cmr-8">&#8212;    </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-5-7"  
class="td11"><span 
class="cmr-8">20+   </span></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-6-1"  
class="td11"><span 
class="cmr-8">Data + Ack </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-6-2"  
class="td11"><span 
class="cmr-8">20   </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-6-3"  
class="td11"><span 
class="cmr-8">20   </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-6-4"  
class="td11"><span 
class="cmr-8">44     </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-6-5"  
class="td11"><span 
class="cmr-8">16   </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-6-6"  
class="td11"><span 
class="cmr-8">&#8212;    </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-6-7"  
class="td11"><span 
class="cmr-8">16      </span></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-7-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-7-1"  
class="td11"><span 
class="cmr-8">Data + Sack</span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-7-2"  
class="td11"><span 
class="cmr-8">20   </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-7-3"  
class="td11"><span 
class="cmr-8">32+ </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-7-4"  
class="td11"><span 
class="cmr-8">44+   </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-7-5"  
class="td11"><span 
class="cmr-8">16   </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-7-6"  
class="td11"><span 
class="cmr-8">&#8212;    </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-7-7"  
class="td11"><span 
class="cmr-8">20+   </span></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-8-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-8-1"  
class="td11">                 </td>
</tr></table></div>
 <table class="caption" align="center"
><tr style="vertical-align:baseline;" class="caption"><td class="id">Table 1: </td><td  
class="content">Transport Layer Header Overhead</td></tr></table><!--tex4ht:label?: x1-39001r1 -->
  </td></tr></table>

<!--l. 477--><p class="noindent">Minimizing the per-packet overhead of transport layer
headers is important to many applications, especially voice
applications that frequently send frames only a few bytes in
size. Table&#x00A0;<a 
href="#x1-39001r1">1<!--tex4ht:ref: tbl-overhead --></a> compares SST&#8217;s header overhead in bytes against
the minimal overhead imposed by several other transports. The
numbers for SST include the 32-bit lightweight checksum
that SST uses in its non-cryptographic security mode, but
do not include a UDP encapsulation header since SST
could be run directly atop IP like the other transports.
The DCCP numbers are for DCCP&#8217;s short header format,
which uses 24-bit sequence numbers instead of 48-bit at
the cost of weakening the protocol against packet forgery
attacks. SST also transmits 24-bit sequence numbers in
packets, but does not rely on them to protect against forgery,
instead relying on 32-bit keyed checksums that depend
on full 64-bit internal sequence numbers. SST effectively
provides most of the functionality of SCTP and DCCP,
along with structured stream support not available in any
existing transport, with no more wire overhead than basic
TCP.

<div style="clear:both;"></div>

  <h4 class="subsectionHead"><span class="titlemark">5.8   </span> <a 
 id="x1-400005.8"></a>Implementation Size</h4>

<!--l. 534--><p class="indent">  <a 
 id="x1-40001r2"></a>
<table class="float" align="right"><tr class="float"><td class="float" 
>
<div class="tabular"><table class="tabular" 
cellspacing="0" cellpadding="0" rules="groups" 
><colgroup id="TBL-4-1g"><col 
id="TBL-4-1"></colgroup><colgroup id="TBL-4-2g"><col 
id="TBL-4-2"><col 
id="TBL-4-3"><col 
id="TBL-4-4"><col 
id="TBL-4-5"><col 
id="TBL-4-6"><col 
id="TBL-4-7"></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-4-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-1-1"  
class="td11">                </td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-1-2"  
class="td11"> <span 
class="cmr-8">SST</span></td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-1-3"  
class="td11"><span 
class="cmr-8">TCP</span></td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-1-4"  
class="td11"><span 
class="cmr-8">SCTP</span></td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-1-5"  
class="td11"><span 
class="cmr-8">DCCP</span></td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-1-6"  
class="td11"><span 
class="cmr-8">RDP</span></td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-1-7"  
class="td11"><span 
class="cmr-8">UDP</span></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-2-1"  
class="td11"><span 
class="cmr-8">Prototype   </span></td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-2-2"  
class="td11"><span 
class="cmr-8">4400</span></td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-2-3"  
class="td11">  <span 
class="cmr-8">540</span></td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-2-4"  
class="td11">        </td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-2-5"  
class="td11">         </td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-2-6"  
class="td11">       </td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-2-7"  
class="td11">       </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-3-1"  
class="td11"><span 
class="cmr-8">Linux 2.6.20</span></td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-3-2"  
class="td11">      </td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-3-3"  
class="td11"><span 
class="cmr-8">5400</span></td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-3-4"  
class="td11">  <span 
class="cmr-8">8000</span></td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-3-5"  
class="td11">   <span 
class="cmr-8">2900</span></td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-3-6"  
class="td11">       </td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-3-7"  
class="td11">  <span 
class="cmr-8">630</span></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-4-1"  
class="td11"><span 
class="cmr-8">FreeBSD 5.4</span></td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-4-2"  
class="td11">      </td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-4-3"  
class="td11"><span 
class="cmr-8">4400</span></td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-4-4"  
class="td11">        </td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-4-5"  
class="td11">         </td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-4-6"  
class="td11">       </td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-4-7"  
class="td11">  <span 
class="cmr-8">510</span></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-5-1"  
class="td11"><span 
class="cmr-8">4.3BSD       </span></td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-5-2"  
class="td11">      </td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-5-3"  
class="td11">  <span 
class="cmr-8">990</span></td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-5-4"  
class="td11">        </td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-5-5"  
class="td11">         </td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-5-6"  
class="td11">  <span 
class="cmr-8">900</span></td><td  style="white-space:nowrap; text-align:right;" id="TBL-4-5-7"  
class="td11">  <span 
class="cmr-8">170</span></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-6-1"  
class="td11">                </td>
</tr></table></div>
 <table class="caption" align="center"
><tr style="vertical-align:baseline;" class="caption"><td class="id">Table 2: </td><td  
class="content">Transport Code Size (Semicolon Count)</td></tr></table><!--tex4ht:label?: x1-40001r2 -->
  </td></tr></table>

<!--l. 552--><p class="noindent">For a rough comparison of implementation complexity,
Table&#x00A0;<a 
href="#x1-40001r2">2<!--tex4ht:ref: tbl-semicolons --></a> shows the code size of several transports measured in
number of semicolons. The top line shows the user-space
C++ implementations of SST and TCP used in the above
experiments; the other lines show existing transports written in
C. The user-space TCP is &#8220;bare-bones&#8221; and implements only
the TCP features needed for the above experiments. The
SST prototype will no doubt grow as it matures, but it
already includes cryptographic security functionality that
none of the other transports do. In comparison, <span class="obeylines-h"><span class="verb"><span 
class="cmtt-9">libssl</span></span></span>
from OpenSSL 0.9.8e is about 13,000 semicolons (41,000
lines).

<div style="clear:both;"></div>

  <h3 class="sectionHead"><span class="titlemark">6   </span> <a 
 id="x1-410006"></a>Related Work</h3>
<!--l. 8--><p class="noindent">Structured streams represent an attempt to design the principle
of application level framing&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xclark90architectural">14</a>]</span> into the transport layer, in
order to provide transport objects that directly mirror the
structure of the &#8220;application data units&#8221; with which the
application is concerned.
<!--l. 18--><p class="indent">  The popularity of SSL&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc2246">17</a>]</span> and SSH tunneling&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc4251">55</a>]</span> attest
to the demand for multiplexing logical streams onto a secure
channel. MUX&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xgettys96mux">23</a>]</span> and BEEP&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc3080">44</a>]</span> similarly multiplex logical
streams onto one TCP stream, layering their own flow
control atop TCP&#8217;s. These protocols exacerbate TCP&#8217;s
drawbacks, however, by totally ordering many unrelated
activities so that one lost packet blocks everything behind
it.
<!--l. 33--><p class="indent">  SST builds on many ideas borrowed from other transports.
RDP&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xpartridge87implementing">40</a> <a 
href="#Xrfc1151">39</a>]</span> provides reliable datagram delivery, in-sequence
or as-available according to the application&#8217;s choice at
connection setup. SCTP&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc2960">49</a>]</span> multiplexes multiple &#8220;streams of
datagrams&#8221; onto one session, provides both reliable and
best-effort delivery, and supports &#8220;multihomed&#8221; endpoints for
rapid failover. Its streams do not have individual flow control,
however, and cannot be dynamically created or destroyed, but
must be negotiated <span 
class="cmti-9">en masse </span>at session startup.  DCCP&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc4340">32</a>]</span> is
a best-effort datagram service with congestion control,
comparable to SST&#8217;s channel layer, but without SST&#8217;s packet
security features. RDP, SCTP, and DCCP all suffer from
the &#8220;large datagram&#8221; problem: datagrams with too many
fragments are almost certain to be lost or require many
retransmissions.
<!--l. 63--><p class="indent">  SST does not provide multihoming as SCTP does, but its
ability to attach streams to more than one channel at once
could be extended to support multihoming, or even to
load-balance a stream across multiple channels following
different network paths. Since SST&#8217;s stream protocol relies on
the channel protocol for loss detection and congestion control,
these mechanisms automatically operate at channel&#8212;i.e.,
path&#8212;granularity. Performing &#8220;end-to-end&#8221; load balancing
this way could thus avoid both the harmful performance
side-effects caused by load balancing in lower layers&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xbennett99packet">6</a>]</span>, and
the complexity of managing multi-path congestion and
retransmission control in a stream transport&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xiyengar06concurrent">28</a>]</span>.
<!--l. 101--><p class="indent">  The need for efficient transport support for transaction-oriented
application protocols has long been recognized&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xbirrell84implementing">9</a> <a 
href="#Xrfc955">11</a>]</span>.
VMTP&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xcheriton86vmtp">13</a>]</span> supports lightweight RPC-style communication in
a clustered environment, but provides no congestion control and
limits messages to 16KB. T/TCP&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc1644">12</a>]</span> enhances TCP to
re-open recently-closed streams quickly, but this serial reuse has
the same disadvantages as HTTP/1.1 persistent connections    without the benefits of pipelining&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xnielsen97network">38</a>]</span>.
                                                  <!--l. 116--><p class="indent">   TCP has also been extended to share congestion control state
                                                  across streams&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xrfc2140">54</a> <a 
href="#Xbalakrishnan98tcp">3</a>]</span>. The Congestion Manager&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xbalakrishnan99integrated">4</a>]</span> enables
                                                  congestion control sharing across multiple transports; SST
                                                  should fit well into such an architecture if available.
                                                  <!--l. 128--><p class="indent">   Another TCP extension provides end-to-end support for
                                                  host mobility&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xsnoeren00endtoend">47</a>]</span>. SST&#8217;s separation into channel and
                                                  stream layers, and its ability to migrate streams across
                                                  channels, provides a cleaner solution reminiscent of a session
                                                  layer&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xsnoeren01reconsidering">48</a>]</span>.
                                                  <!--l. 135--><p class="indent">   The rich literature on prioritization in the network layer to
                                                  ensure quality of service&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xzhang91comparison">56</a>]</span> is relevant to SST&#8217;s use of
                                                  prioritization in the transport layer to schedule an application&#8217;s
                                                  streams relative to each other. Hierarchical schemes&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xbennett96hierarchical">7</a>]</span> may
                                                  be particularly well-matched to the structured stream
                                                  abstraction. SST&#8217;s channel layer could be enhanced with
                                                  techniques developed in OverQoS&#x00A0;<span class="cite">&#x00A0;[<a 
href="#Xsubramanian04overqos">50</a>]</span> to provide better
                                                  QoS for aggregates of logical streams on ordinary Internet
                                                  paths.
                                                    <h3 class="sectionHead"><span class="titlemark">7   </span> <a 
 id="x1-420007"></a>Conclusion</h3>
                                                  <!--l. 4--><p class="noindent">Although SST is in its infancy and will require refinement, more
                                                  optimized implementation, and further analysis, structured
                                                  streams appear to be a promising enhancement to the classic
                                                  reliable stream abstraction. SST&#8217;s multiplexing of independent
                                                  lightweight streams onto persistent channels gives applications
                                                  the flexibility to match their use of streams to their natural
                                                  structure and transaction granularity, avoiding the start-up
                                                  delays and serialization imposed by TCP and the datagram size
                                                  limitations of UDP.
                                                    <h4 class="likesubsectionHead"><a 
 id="x1-430007"></a>Acknowledgments</h4>
                                                  <!--l. 19--><p class="noindent">I wish to give special thanks to Frans Kaashoek, Robert Morris,
                                                  Craig Partridge, and the anonymous SIGCOMM reviewers, for
                                                  careful reading of early drafts and many helpful comments
                                                  that proved instrumental in improving this paper and
                                                  the SST protocol itself. This research is sponsored by the
                                                  T-Party Project, a joint research program between MIT and
                                                  Quanta Computer Inc., Taiwan, and by the National Science
                                                  Foundation under Cooperative Agreement ANI-0225660
                                                  (Project IRIS).
                                                    <div class="thebibliography">
                                                    <h3 class="sectionHead"><span class="titlemark"><span 
class="cmr-8">8   </span></span> <a 
 id="x1-440008"></a><span 
class="cmr-8">References</span></h3>
                                                      <p class="bibitem"><span class="biblabel">
                                                   <span 
class="cmr-8">[1]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xaiello04jfk"></a><span 
class="cmr-8">William</span>
                                                      <span 
class="cmr-8">Aiello</span>
                                                      <span 
class="cmr-8">et</span><span 
class="cmr-8">&#x00A0;al.</span>
                                                      <span 
class="cmr-8">Just</span>
                                                      <span 
class="cmr-8">Fast</span>
                                                      <span 
class="cmr-8">Keying:</span>
                                                      <span 
class="cmr-8">Key</span>
                                                      <span 
class="cmr-8">Agreement</span>
                                                      <span 
class="cmr-8">In</span>
                                                      <span 
class="cmr-8">A</span>
                                                      <span 
class="cmr-8">Hostile</span>
                                                      <span 
class="cmr-8">Internet.</span>
                                                      <span 
class="cmti-8">TISSEC</span><span 
class="cmr-8">,</span>
                                                      <span 
class="cmr-8">7(2):1&#8211;32,</span>
   <span 
class="cmr-8">May</span>
   <span 
class="cmr-8">2004.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
 <span 
class="cmr-8">[2]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xrfc2581"></a><span 
class="cmr-8">M.</span><span 
class="cmr-8">&#x00A0;Allman,</span>
   <span 
class="cmr-8">V.</span><span 
class="cmr-8">&#x00A0;Paxson,</span>
   <span 
class="cmr-8">and</span>
   <span 
class="cmr-8">W.</span><span 
class="cmr-8">&#x00A0;Stevens.</span>
   <span 
class="cmr-8">TCP</span>
   <span 
class="cmr-8">congestion</span>
   <span 
class="cmr-8">control,</span>
   <span 
class="cmr-8">April</span>
   <span 
class="cmr-8">1999.</span>
   <span 
class="cmr-8">RFC</span>
   <span 
class="cmr-8">2581.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
 <span 
class="cmr-8">[3]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xbalakrishnan98tcp"></a><span 
class="cmr-8">Hari</span>
   <span 
class="cmr-8">Balakrishnan</span>
   <span 
class="cmr-8">et</span><span 
class="cmr-8">&#x00A0;al.</span>
   <span 
class="cmr-8">TCP</span>
   <span 
class="cmr-8">behavior</span>
   <span 
class="cmr-8">of</span>
   <span 
class="cmr-8">a</span>
   <span 
class="cmr-8">busy</span>
   <span 
class="cmr-8">Internet</span>
   <span 
class="cmr-8">server:</span>
   <span 
class="cmr-8">Analysis</span>
   <span 
class="cmr-8">and</span>
   <span 
class="cmr-8">improvements.</span>
   <span 
class="cmr-8">In</span>
   <span 
class="cmti-8">IEEE</span>
   <span 
class="cmti-8">INFOCOM</span><span 
class="cmr-8">,</span>
   <span 
class="cmr-8">March</span>
   <span 
class="cmr-8">1998.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
 <span 
class="cmr-8">[4]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xbalakrishnan99integrated"></a><span 
class="cmr-8">Hari</span>
   <span 
class="cmr-8">Balakrishnan,</span>
   <span 
class="cmr-8">Hariharan</span><span 
class="cmr-8">&#x00A0;S.</span>
   <span 
class="cmr-8">Rahul,</span>
   <span 
class="cmr-8">and</span>
   <span 
class="cmr-8">Srinivasan</span>
   <span 
class="cmr-8">Seshan.</span>
   <span 
class="cmr-8">An</span>
   <span 
class="cmr-8">integrated</span>
   <span 
class="cmr-8">congestion</span>
   <span 
class="cmr-8">management</span>
   <span 
class="cmr-8">architecture</span>
   <span 
class="cmr-8">for</span>
   <span 
class="cmr-8">Internet</span>
   <span 
class="cmr-8">hosts.</span>
   <span 
class="cmr-8">In</span>
   <span 
class="cmti-8">ACM</span>
   <span 
class="cmti-8">SIGCOMM</span><span 
class="cmr-8">,</span>
   <span 
class="cmr-8">September</span>
   <span 
class="cmr-8">1999.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
 <span 
class="cmr-8">[5]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xrfc1948"></a><span 
class="cmr-8">S.</span><span 
class="cmr-8">&#x00A0;Bellovin.</span>
   <span 
class="cmr-8">Defending</span>
   <span 
class="cmr-8">against</span>
   <span 
class="cmr-8">sequence</span>
   <span 
class="cmr-8">number</span>
   <span 
class="cmr-8">attacks,</span>                                             <span 
class="cmr-8">May</span>
                                                      <span 
class="cmr-8">1996.</span>
                                                      <span 
class="cmr-8">RFC</span>
                                                      <span 
class="cmr-8">1948.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                   <span 
class="cmr-8">[6]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xbennett99packet"></a><span 
class="cmr-8">Jon</span>
                                                      <span 
class="cmr-8">C.</span><span 
class="cmr-8">&#x00A0;R.</span>
                                                      <span 
class="cmr-8">Bennett,</span>
                                                      <span 
class="cmr-8">Craig</span>
                                                      <span 
class="cmr-8">Partridge,</span>
                                                      <span 
class="cmr-8">and</span>
                                                      <span 
class="cmr-8">Nicholas</span>
                                                      <span 
class="cmr-8">Shectman.</span>
                                                      <span 
class="cmr-8">Packet</span>
                                                      <span 
class="cmr-8">reordering</span>
                                                      <span 
class="cmr-8">is</span>
                                                      <span 
class="cmr-8">not</span>
                                                      <span 
class="cmr-8">pathological</span>
                                                      <span 
class="cmr-8">network</span>
                                                      <span 
class="cmr-8">behavior.</span>
                                                      <span 
class="cmti-8">Transactions</span>
                                                      <span 
class="cmti-8">on</span>
                                                      <span 
class="cmti-8">Networking</span><span 
class="cmr-8">,</span>
                                                      <span 
class="cmr-8">7:789&#8211;798,</span>
                                                      <span 
class="cmr-8">December</span>
                                                      <span 
class="cmr-8">1999.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                   <span 
class="cmr-8">[7]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xbennett96hierarchical"></a><span 
class="cmr-8">Jon</span>
                                                      <span 
class="cmr-8">C.</span><span 
class="cmr-8">&#x00A0;R.</span>
                                                      <span 
class="cmr-8">Bennett</span>
                                                      <span 
class="cmr-8">and</span>
                                                      <span 
class="cmr-8">Hui</span>
                                                      <span 
class="cmr-8">Zhang.</span>
                                                      <span 
class="cmr-8">Hierarchical</span>
                                                      <span 
class="cmr-8">packet</span>
                                                      <span 
class="cmr-8">fair</span>
                                                      <span 
class="cmr-8">queueing</span>
                                                      <span 
class="cmr-8">algorithms.</span>
                                                      <span 
class="cmr-8">In</span>
                                                      <span 
class="cmti-8">ACM</span>
                                                      <span 
class="cmti-8">SIGCOMM</span><span 
class="cmr-8">,</span>
                                                      <span 
class="cmr-8">pages</span>
                                                      <span 
class="cmr-8">143&#8211;156,</span>
                                                      <span 
class="cmr-8">1996.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                   <span 
class="cmr-8">[8]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xrfc1945"></a><span 
class="cmr-8">T.</span><span 
class="cmr-8">&#x00A0;Berners-Lee,</span>
                                                      <span 
class="cmr-8">R.</span><span 
class="cmr-8">&#x00A0;Fielding,</span>
                                                      <span 
class="cmr-8">and</span>
                                                      <span 
class="cmr-8">H.</span><span 
class="cmr-8">&#x00A0;Frystyk.</span>
                                                      <span 
class="cmr-8">Hypertext</span>
                                                      <span 
class="cmr-8">transfer</span>
                                                      <span 
class="cmr-8">protocol</span>
                                                      <span 
class="cmr-8">&#8212;</span>
                                                      <span 
class="cmr-8">HTTP/1.0,</span>
                                                      <span 
class="cmr-8">May</span>
                                                      <span 
class="cmr-8">1996.</span>
                                                      <span 
class="cmr-8">RFC</span>
                                                      <span 
class="cmr-8">1945.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                   <span 
class="cmr-8">[9]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xbirrell84implementing"></a><span 
class="cmr-8">Andrew</span><span 
class="cmr-8">&#x00A0;D.</span>
                                                      <span 
class="cmr-8">Birrell</span>
   <span 
class="cmr-8">and</span>
   <span 
class="cmr-8">Bruce</span><span 
class="cmr-8">&#x00A0;Jay</span>
   <span 
class="cmr-8">Nelson.</span>
   <span 
class="cmr-8">Implementing</span>
   <span 
class="cmr-8">remote</span>
   <span 
class="cmr-8">procedure</span>
   <span 
class="cmr-8">calls.</span>
   <span 
class="cmti-8">Transactions</span>
   <span 
class="cmti-8">on</span>
   <span 
class="cmti-8">Computer</span>
   <span 
class="cmti-8">Systems</span><span 
class="cmr-8">,</span>
   <span 
class="cmr-8">2(1):39&#8211;59,</span>
   <span 
class="cmr-8">February</span>
   <span 
class="cmr-8">1984.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[10]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xblanton02making"></a><span 
class="cmr-8">E.</span><span 
class="cmr-8">&#x00A0;Blanton</span>
   <span 
class="cmr-8">and</span>
   <span 
class="cmr-8">M.</span><span 
class="cmr-8">&#x00A0;Allman.</span>
   <span 
class="cmr-8">On</span>
   <span 
class="cmr-8">making</span>
   <span 
class="cmr-8">TCP</span>
   <span 
class="cmr-8">more</span>
   <span 
class="cmr-8">robust</span>
   <span 
class="cmr-8">to</span>
   <span 
class="cmr-8">packet</span>
   <span 
class="cmr-8">reordering.</span>
   <span 
class="cmti-8">Computer</span>
   <span 
class="cmti-8">Communications</span>
   <span 
class="cmti-8">Review</span><span 
class="cmr-8">,</span>
   <span 
class="cmr-8">32(1),</span>
   <span 
class="cmr-8">January</span>
   <span 
class="cmr-8">2002.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[11]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xrfc955"></a><span 
class="cmr-8">R.</span><span 
class="cmr-8">&#x00A0;Braden.</span>
   <span 
class="cmr-8">Towards</span>
   <span 
class="cmr-8">a</span>
   <span 
class="cmr-8">transport</span>
   <span 
class="cmr-8">service</span>
   <span 
class="cmr-8">for</span>
   <span 
class="cmr-8">transaction</span>
   <span 
class="cmr-8">processing</span>
   <span 
class="cmr-8">applications,</span>
   <span 
class="cmr-8">September</span>
   <span 
class="cmr-8">1985.</span>
   <span 
class="cmr-8">RFC</span>
   <span 
class="cmr-8">955.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[12]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xrfc1644"></a><span 
class="cmr-8">R.</span><span 
class="cmr-8">&#x00A0;Braden.</span>
   <span 
class="cmr-8">T/TCP</span>
   <span 
class="cmr-8">&#8211;</span>
   <span 
class="cmr-8">TCP</span>
   <span 
class="cmr-8">extensions</span>
   <span 
class="cmr-8">for</span>
   <span 
class="cmr-8">transactions,</span>
   <span 
class="cmr-8">July</span>
   <span 
class="cmr-8">1994.</span>
   <span 
class="cmr-8">RFC</span>
   <span 
class="cmr-8">1644.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[13]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xcheriton86vmtp"></a><span 
class="cmr-8">David</span><span 
class="cmr-8">&#x00A0;R.</span>
   <span 
class="cmr-8">Cheriton.</span>                                            <span 
class="cmr-8">VMTP:</span>
                                                      <span 
class="cmr-8">A</span>
                                                      <span 
class="cmr-8">transport</span>
                                                      <span 
class="cmr-8">protocol</span>
                                                      <span 
class="cmr-8">for</span>
                                                      <span 
class="cmr-8">the</span>
                                                      <span 
class="cmr-8">next</span>
                                                      <span 
class="cmr-8">generation</span>
                                                      <span 
class="cmr-8">of</span>
                                                      <span 
class="cmr-8">communication</span>
                                                      <span 
class="cmr-8">systems.</span>
                                                      <span 
class="cmti-8">Computer</span>
                                                      <span 
class="cmti-8">Communications</span>
                                                      <span 
class="cmti-8">Review</span><span 
class="cmr-8">,</span>
                                                      <span 
class="cmr-8">16(3):406&#8211;415,</span>
                                                      <span 
class="cmr-8">August</span>
                                                      <span 
class="cmr-8">1986.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                  <span 
class="cmr-8">[14]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xclark90architectural"></a><span 
class="cmr-8">D.</span><span 
class="cmr-8">&#x00A0;D.</span>
                                                      <span 
class="cmr-8">Clark</span>
                                                      <span 
class="cmr-8">and</span>
                                                      <span 
class="cmr-8">D.</span><span 
class="cmr-8">&#x00A0;L.</span>
                                                      <span 
class="cmr-8">Tennenhouse.</span>
                                                      <span 
class="cmr-8">Architectural</span>
                                                      <span 
class="cmr-8">considerations</span>
                                                      <span 
class="cmr-8">for</span>
                                                      <span 
class="cmr-8">a</span>
                                                      <span 
class="cmr-8">new</span>
                                                      <span 
class="cmr-8">generation</span>
                                                      <span 
class="cmr-8">of</span>
                                                      <span 
class="cmr-8">protocols.</span>
                                                      <span 
class="cmr-8">In</span>
                                                      <span 
class="cmti-8">ACM</span>
                                                      <span 
class="cmti-8">SIGCOMM</span><span 
class="cmr-8">,</span>
                                                      <span 
class="cmr-8">pages</span>
                                                      <span 
class="cmr-8">200&#8211;208,</span>
                                                      <span 
class="cmr-8">1990.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                  <span 
class="cmr-8">[15]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xrfc813"></a><span 
class="cmr-8">David</span><span 
class="cmr-8">&#x00A0;D.</span>
                                                      <span 
class="cmr-8">Clark.</span>
                                                      <span 
class="cmr-8">Window</span>
                                                      <span 
class="cmr-8">and</span>
                                                      <span 
class="cmr-8">acknowledgement</span>
                                                      <span 
class="cmr-8">strategy</span>
                                                      <span 
class="cmr-8">in</span>
                                                      <span 
class="cmr-8">TCP,</span>
                                                      <span 
class="cmr-8">July</span>
                                                      <span 
class="cmr-8">1982.</span>
                                                      <span 
class="cmr-8">RFC</span>
                                                      <span 
class="cmr-8">813.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                  <span 
class="cmr-8">[16]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xdalal75more"></a><span 
class="cmr-8">Yogen</span><span 
class="cmr-8">&#x00A0;K.</span>
                                                      <span 
class="cmr-8">Dalal.</span>
                                                      <span 
class="cmr-8">More</span>
                                                      <span 
class="cmr-8">on</span>
                                                      <span 
class="cmr-8">selecting</span>
                                                      <span 
class="cmr-8">sequence</span>
                                                      <span 
class="cmr-8">numbers.</span>
                                                      <span 
class="cmti-8">SIGOPS</span>
                                                      <span 
class="cmti-8">Operating</span>
                                                      <span 
class="cmti-8">Systems</span>
                                                      <span 
class="cmti-8">Review</span><span 
class="cmr-8">,</span>
                                                      <span 
class="cmr-8">9(3):25&#8211;36,</span>
                                                      <span 
class="cmr-8">July</span>
   <span 
class="cmr-8">1975.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[17]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xrfc2246"></a><span 
class="cmr-8">T.</span><span 
class="cmr-8">&#x00A0;Dierks</span>
   <span 
class="cmr-8">and</span>
   <span 
class="cmr-8">C.</span><span 
class="cmr-8">&#x00A0;Allen.</span>
   <span 
class="cmr-8">The</span>
   <span 
class="cmr-8">TLS</span>
   <span 
class="cmr-8">protocol</span>
   <span 
class="cmr-8">version</span>
   <span 
class="cmr-8">1.0,</span>
   <span 
class="cmr-8">January</span>
   <span 
class="cmr-8">1999.</span>
   <span 
class="cmr-8">RFC</span>
   <span 
class="cmr-8">2246.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[18]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xfaber99timewait"></a><span 
class="cmr-8">Theodore</span>
   <span 
class="cmr-8">Faber,</span>
   <span 
class="cmr-8">Joe</span>
   <span 
class="cmr-8">Touch,</span>
   <span 
class="cmr-8">and</span>
   <span 
class="cmr-8">Wei</span>
   <span 
class="cmr-8">Yue.</span>
   <span 
class="cmr-8">The</span>
   <span 
class="cmtt-8">TIME-WAIT</span>
   <span 
class="cmr-8">state</span>
   <span 
class="cmr-8">in</span>
   <span 
class="cmr-8">TCP</span>
   <span 
class="cmr-8">and</span>
   <span 
class="cmr-8">its</span>
   <span 
class="cmr-8">effects</span>
   <span 
class="cmr-8">on</span>
   <span 
class="cmr-8">busy</span>
   <span 
class="cmr-8">servers.</span>
   <span 
class="cmr-8">In</span>
   <span 
class="cmti-8">IEEE</span>
   <span 
class="cmti-8">INFOCOM</span><span 
class="cmr-8">,</span>
   <span 
class="cmr-8">volume</span><span 
class="cmr-8">&#x00A0;3,</span>
   <span 
class="cmr-8">pages</span>
   <span 
class="cmr-8">1573&#8211;1583,</span>
   <span 
class="cmr-8">March</span>
   <span 
class="cmr-8">1999.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[19]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xrfc2616"></a><span 
class="cmr-8">R.</span><span 
class="cmr-8">&#x00A0;Fielding</span>
   <span 
class="cmr-8">et</span><span 
class="cmr-8">&#x00A0;al.</span>
   <span 
class="cmr-8">Hypertext</span>
   <span 
class="cmr-8">transfer</span>
   <span 
class="cmr-8">protocol</span>
   <span 
class="cmr-8">&#8212;</span>
   <span 
class="cmr-8">HTTP/1.1,</span>
   <span 
class="cmr-8">June</span>
   <span 
class="cmr-8">1999.</span>
   <span 
class="cmr-8">RFC</span>
   <span 
class="cmr-8">2616.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[20]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xrfc2883"></a><span 
class="cmr-8">S.</span><span 
class="cmr-8">&#x00A0;Floyd,</span>
   <span 
class="cmr-8">J.</span><span 
class="cmr-8">&#x00A0;Mahdavi,</span>
   <span 
class="cmr-8">M.</span><span 
class="cmr-8">&#x00A0;Mathis,</span>
   <span 
class="cmr-8">and</span>
   <span 
class="cmr-8">M.</span><span 
class="cmr-8">&#x00A0;Podolsky.</span>
   <span 
class="cmr-8">An</span>
   <span 
class="cmr-8">extension</span>                                            <span 
class="cmr-8">to</span>
                                                      <span 
class="cmr-8">the</span>
                                                      <span 
class="cmr-8">selective</span>
                                                      <span 
class="cmr-8">acknowledgement</span>
                                                      <span 
class="cmr-8">(SACK)</span>
                                                      <span 
class="cmr-8">option</span>
                                                      <span 
class="cmr-8">for</span>
                                                      <span 
class="cmr-8">TCP,</span>
                                                      <span 
class="cmr-8">July</span>
                                                      <span 
class="cmr-8">2000.</span>
                                                      <span 
class="cmr-8">RFC</span>
                                                      <span 
class="cmr-8">2883.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                  <span 
class="cmr-8">[21]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xford03scalable"></a><span 
class="cmr-8">Bryan</span>
                                                      <span 
class="cmr-8">Ford.</span>
                                                      <span 
class="cmr-8">Scalable</span>
                                                      <span 
class="cmr-8">Internet</span>
                                                      <span 
class="cmr-8">routing</span>
                                                      <span 
class="cmr-8">on</span>
                                                      <span 
class="cmr-8">topology-independent</span>
                                                      <span 
class="cmr-8">node</span>
                                                      <span 
class="cmr-8">identities.</span>
                                                      <span 
class="cmr-8">Technical</span>
                                                      <span 
class="cmr-8">Report</span>
                                                      <span 
class="cmr-8">926,</span>
                                                      <span 
class="cmr-8">MIT</span>
                                                      <span 
class="cmr-8">LCS,</span>
                                                      <span 
class="cmr-8">October</span>
                                                      <span 
class="cmr-8">2003.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                  <span 
class="cmr-8">[22]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xford06persistent"></a><span 
class="cmr-8">Bryan</span>
                                                      <span 
class="cmr-8">Ford</span>
                                                      <span 
class="cmr-8">et</span><span 
class="cmr-8">&#x00A0;al.</span>
                                                      <span 
class="cmr-8">Persistent</span>
                                                      <span 
class="cmr-8">personal</span>
                                                      <span 
class="cmr-8">names</span>
                                                      <span 
class="cmr-8">for</span>
                                                      <span 
class="cmr-8">globally</span>
                                                      <span 
class="cmr-8">connected</span>
                                                      <span 
class="cmr-8">mobile</span>
                                                      <span 
class="cmr-8">devices.</span>
                                                      <span 
class="cmr-8">In</span>
                                                      <span 
class="cmti-8">7th</span>
                                                      <span 
class="cmti-8">OSDI</span><span 
class="cmr-8">,</span>
                                                      <span 
class="cmr-8">November</span>
                                                      <span 
class="cmr-8">2006.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                  <span 
class="cmr-8">[23]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xgettys96mux"></a><span 
class="cmr-8">Jim</span>
                                                      <span 
class="cmr-8">Gettys.</span>
                                                      <span 
class="cmr-8">Simple</span>
                                                      <span 
class="cmr-8">MUX</span>
                                                      <span 
class="cmr-8">protocol</span>
                                                      <span 
class="cmr-8">specification,</span>
                                                      <span 
class="cmr-8">October</span>
                                                      <span 
class="cmr-8">1996.</span>
                                                      <span 
class="cmr-8">W3C</span>
                                                      <span 
class="cmr-8">Working</span>
                                                      <span 
class="cmr-8">Draft.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                  <span 
class="cmr-8">[24]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xgurbani06handling"></a><span 
class="cmr-8">V.</span><span 
class="cmr-8">&#x00A0;Gurbani</span>
                                                      <span 
class="cmr-8">and</span>
   <span 
class="cmr-8">S.</span><span 
class="cmr-8">&#x00A0;Lawrence.</span>
   <span 
class="cmr-8">Handling</span>
   <span 
class="cmr-8">large</span>
   <span 
class="cmr-8">user</span>
   <span 
class="cmr-8">datagram</span>
   <span 
class="cmr-8">protocol</span>
   <span 
class="cmr-8">(UDP)</span>
   <span 
class="cmr-8">responses</span>
   <span 
class="cmr-8">in</span>
   <span 
class="cmr-8">the</span>
   <span 
class="cmr-8">session</span>
   <span 
class="cmr-8">initiation</span>
   <span 
class="cmr-8">protocol</span>
   <span 
class="cmr-8">(SIP),</span>
   <span 
class="cmr-8">October</span>
   <span 
class="cmr-8">2006.</span>
   <span 
class="cmr-8">Internet-Draft</span>
   <span 
class="cmr-8">(Work</span>
   <span 
class="cmr-8">in</span>
   <span 
class="cmr-8">Progress).</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[25]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xrfc3448"></a><span 
class="cmr-8">M.</span><span 
class="cmr-8">&#x00A0;Handley,</span>
   <span 
class="cmr-8">S.</span><span 
class="cmr-8">&#x00A0;Floyd,</span>
   <span 
class="cmr-8">J.</span><span 
class="cmr-8">&#x00A0;Padhye,</span>
   <span 
class="cmr-8">and</span>
   <span 
class="cmr-8">J.</span><span 
class="cmr-8">&#x00A0;Widmer.</span>
   <span 
class="cmr-8">TCP</span>
   <span 
class="cmr-8">friendly</span>
   <span 
class="cmr-8">rate</span>
   <span 
class="cmr-8">control</span>
   <span 
class="cmr-8">(TFRC):</span>
   <span 
class="cmr-8">Protocol</span>
   <span 
class="cmr-8">specification,</span>
   <span 
class="cmr-8">January</span>
   <span 
class="cmr-8">2003.</span>
   <span 
class="cmr-8">RFC</span>
   <span 
class="cmr-8">3448.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[26]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xrfc3027"></a><span 
class="cmr-8">M.</span><span 
class="cmr-8">&#x00A0;Holdrege</span>
   <span 
class="cmr-8">and</span>
   <span 
class="cmr-8">P.</span><span 
class="cmr-8">&#x00A0;Srisuresh.</span>
   <span 
class="cmr-8">Protocol</span>
   <span 
class="cmr-8">complications</span>
   <span 
class="cmr-8">with</span>
   <span 
class="cmr-8">the</span>
   <span 
class="cmr-8">IP</span>
   <span 
class="cmr-8">network</span>
   <span 
class="cmr-8">address</span>
   <span 
class="cmr-8">translator,</span>
   <span 
class="cmr-8">January</span>
   <span 
class="cmr-8">2001.</span>
   <span 
class="cmr-8">RFC</span>
   <span 
class="cmr-8">3027.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[27]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xita"></a><span 
class="cmr-8">The</span>
   <span 
class="cmr-8">Internet</span>
   <span 
class="cmr-8">traffic</span>
   <span 
class="cmr-8">archive.</span>
   <span 
class="cmtt-8"><a href="http://ita.ee.lbl.gov/">http://ita.ee.lbl.gov/</a></span><span 
class="cmr-8">.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[28]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xiyengar06concurrent"></a><span 
class="cmr-8">Janardhan</span><span 
class="cmr-8">&#x00A0;R.</span>                                        <span 
class="cmr-8">Iyengar,</span>
                                                      <span 
class="cmr-8">Paul</span><span 
class="cmr-8">&#x00A0;D.</span>
                                                      <span 
class="cmr-8">Amer,</span>
                                                      <span 
class="cmr-8">and</span>
                                                      <span 
class="cmr-8">Randall</span>
                                                      <span 
class="cmr-8">Stewart.</span>
                                                      <span 
class="cmr-8">Concurrent</span>
                                                      <span 
class="cmr-8">multipath</span>
                                                      <span 
class="cmr-8">transfer</span>
                                                      <span 
class="cmr-8">using</span>
                                                      <span 
class="cmr-8">SCTP</span>
                                                      <span 
class="cmr-8">multihoming</span>
                                                      <span 
class="cmr-8">over</span>
                                                      <span 
class="cmr-8">independent</span>
                                                      <span 
class="cmr-8">end-to-end</span>
                                                      <span 
class="cmr-8">paths.</span>
                                                      <span 
class="cmti-8">Transactions</span>
                                                      <span 
class="cmti-8">on</span>
                                                      <span 
class="cmti-8">Networking</span><span 
class="cmr-8">,</span>
                                                      <span 
class="cmr-8">14(5):951&#8211;964,</span>
                                                      <span 
class="cmr-8">October</span>
                                                      <span 
class="cmr-8">2006.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                  <span 
class="cmr-8">[29]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xrfc1323"></a><span 
class="cmr-8">V.</span><span 
class="cmr-8">&#x00A0;Jacobson,</span>
                                                      <span 
class="cmr-8">R.</span><span 
class="cmr-8">&#x00A0;Braden,</span>
                                                      <span 
class="cmr-8">and</span>
                                                      <span 
class="cmr-8">D.</span><span 
class="cmr-8">&#x00A0;Borman.</span>
                                                      <span 
class="cmr-8">TCP</span>
                                                      <span 
class="cmr-8">extensions</span>
                                                      <span 
class="cmr-8">for</span>
                                                      <span 
class="cmr-8">high</span>
                                                      <span 
class="cmr-8">performance,</span>
                                                      <span 
class="cmr-8">May</span>
                                                      <span 
class="cmr-8">1992.</span>
                                                      <span 
class="cmr-8">RFC</span>
                                                      <span 
class="cmr-8">1323.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                  <span 
class="cmr-8">[30]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xrfc4303"></a><span 
class="cmr-8">S.</span><span 
class="cmr-8">&#x00A0;Kent.</span>
                                                      <span 
class="cmr-8">IP</span>
                                                      <span 
class="cmr-8">encapsulating</span>
                                                      <span 
class="cmr-8">security</span>
                                                      <span 
class="cmr-8">payload</span>
                                                      <span 
class="cmr-8">(ESP),</span>
                                                      <span 
class="cmr-8">December</span>
                                                      <span 
class="cmr-8">2005.</span>
                                                      <span 
class="cmr-8">RFC</span>
                                                      <span 
class="cmr-8">4303.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                  <span 
class="cmr-8">[31]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xrfc4301"></a><span 
class="cmr-8">S.</span><span 
class="cmr-8">&#x00A0;Kent</span>
                                                      <span 
class="cmr-8">and</span>
                                                      <span 
class="cmr-8">K.</span><span 
class="cmr-8">&#x00A0;Seo.</span>
                                                      <span 
class="cmr-8">Security</span>
                                                      <span 
class="cmr-8">architecture</span>
                                                      <span 
class="cmr-8">for</span>
                                                      <span 
class="cmr-8">the</span>
                                                      <span 
class="cmr-8">Internet</span>
                                                      <span 
class="cmr-8">protocol,</span>
                                                      <span 
class="cmr-8">December</span>
                                                      <span 
class="cmr-8">2005.</span>
                                                      <span 
class="cmr-8">RFC</span>
                                                      <span 
class="cmr-8">4301.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[32]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xrfc4340"></a><span 
class="cmr-8">E.</span><span 
class="cmr-8">&#x00A0;Kohler,</span>
   <span 
class="cmr-8">M.</span><span 
class="cmr-8">&#x00A0;Handley,</span>
   <span 
class="cmr-8">and</span>
   <span 
class="cmr-8">S.</span><span 
class="cmr-8">&#x00A0;Floyd.</span>
   <span 
class="cmr-8">Datagram</span>
   <span 
class="cmr-8">congestion</span>
   <span 
class="cmr-8">control</span>
   <span 
class="cmr-8">protocol</span>
   <span 
class="cmr-8">(DCCP),</span>
   <span 
class="cmr-8">March</span>
   <span 
class="cmr-8">2006.</span>
   <span 
class="cmr-8">RFC</span>
   <span 
class="cmr-8">4340.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[33]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xkudalur05ie7"></a><span 
class="cmr-8">Venkat</span>
   <span 
class="cmr-8">Kudallur</span>
   <span 
class="cmr-8">et</span><span 
class="cmr-8">&#x00A0;al.</span>
   <span 
class="cmr-8">IE7</span>
   <span 
class="cmr-8">networking</span>
   <span 
class="cmr-8">improvements</span>
   <span 
class="cmr-8">in</span>
   <span 
class="cmr-8">content</span>
   <span 
class="cmr-8">caching</span>
   <span 
class="cmr-8">and</span>
   <span 
class="cmr-8">decompression.</span>
   <span 
class="cmti-8">IEBlog</span><span 
class="cmr-8">,</span>
   <span 
class="cmr-8">October</span>
   <span 
class="cmr-8">2005.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[34]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xrfc2018"></a><span 
class="cmr-8">M.</span><span 
class="cmr-8">&#x00A0;Mathis,</span>
   <span 
class="cmr-8">J.</span><span 
class="cmr-8">&#x00A0;Mahdav,</span>
   <span 
class="cmr-8">S.</span><span 
class="cmr-8">&#x00A0;Floyd,</span>
   <span 
class="cmr-8">and</span>
   <span 
class="cmr-8">A.</span><span 
class="cmr-8">&#x00A0;Romanow.</span>
   <span 
class="cmr-8">TCP</span>
   <span 
class="cmr-8">selective</span>
   <span 
class="cmr-8">acknowledgment</span>
   <span 
class="cmr-8">options,</span>
   <span 
class="cmr-8">October</span>
   <span 
class="cmr-8">1996.</span>
   <span 
class="cmr-8">RFC</span>
   <span 
class="cmr-8">2018.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[35]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xmathis96forward"></a><span 
class="cmr-8">M.</span><span 
class="cmr-8">&#x00A0;Mathis</span>
   <span 
class="cmr-8">and</span>
   <span 
class="cmr-8">J.</span><span 
class="cmr-8">&#x00A0;Mahdavi.</span>
   <span 
class="cmr-8">Forward</span>
   <span 
class="cmr-8">acknowledgement:</span>
   <span 
class="cmr-8">Refining</span>
   <span 
class="cmr-8">TCP</span>
   <span 
class="cmr-8">congestion</span>
   <span 
class="cmr-8">control.</span>
   <span 
class="cmr-8">In</span>
   <span 
class="cmti-8">ACM</span>
   <span 
class="cmti-8">SIGCOMM</span><span 
class="cmr-8">,</span>
   <span 
class="cmr-8">August</span>
   <span 
class="cmr-8">1996.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[36]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xrfc4423"></a><span 
class="cmr-8">R.</span><span 
class="cmr-8">&#x00A0;Moskowitz</span>
   <span 
class="cmr-8">and</span>                                                <span 
class="cmr-8">P.</span><span 
class="cmr-8">&#x00A0;Nikander.</span>
                                                      <span 
class="cmr-8">Host</span>
                                                      <span 
class="cmr-8">identity</span>
                                                      <span 
class="cmr-8">protocol</span>
                                                      <span 
class="cmr-8">(HIP)</span>
                                                      <span 
class="cmr-8">architecture,</span>
                                                      <span 
class="cmr-8">May</span>
                                                      <span 
class="cmr-8">2006.</span>
                                                      <span 
class="cmr-8">RFC</span>
                                                      <span 
class="cmr-8">4423.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                  <span 
class="cmr-8">[37]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xfirefox-pipelining"></a><span 
class="cmr-8">Mozilla.org.</span>
                                                      <span 
class="cmr-8">Firefox</span>
                                                      <span 
class="cmr-8">tips</span>
                                                      <span 
class="cmr-8">&amp;</span>
                                                      <span 
class="cmr-8">tricks:</span>
                                                      <span 
class="cmr-8">Pipelining.</span>
                                                      <span 
class="cmr-8"><a href="http://www.mozilla.org/support/firefox/tips#oth_pipelining">http://www.mozilla.org/support/firefox/tips#oth_pipelining</a>.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                  <span 
class="cmr-8">[38]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xnielsen97network"></a><span 
class="cmr-8">H.</span><span 
class="cmr-8">&#x00A0;F.</span>
                                                      <span 
class="cmr-8">Nielsen</span>
                                                      <span 
class="cmr-8">et</span><span 
class="cmr-8">&#x00A0;al.</span>
                                                      <span 
class="cmr-8">Network</span>
                                                      <span 
class="cmr-8">performance</span>
                                                      <span 
class="cmr-8">effects</span>
                                                      <span 
class="cmr-8">of</span>
                                                      <span 
class="cmr-8">HTTP/1.1,</span>
                                                      <span 
class="cmr-8">CSS1,</span>
                                                      <span 
class="cmr-8">and</span>
                                                      <span 
class="cmr-8">PNG,</span>
                                                      <span 
class="cmr-8">June</span>
                                                      <span 
class="cmr-8">1997.</span>
                                                      <span 
class="cmr-8">W3C</span>
                                                      <span 
class="cmr-8">NOTE-pipelining-970624.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                  <span 
class="cmr-8">[39]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xrfc1151"></a><span 
class="cmr-8">C.</span><span 
class="cmr-8">&#x00A0;Partridge</span>
                                                      <span 
class="cmr-8">and</span>
                                                      <span 
class="cmr-8">R.</span><span 
class="cmr-8">&#x00A0;Hinden.</span>
                                                      <span 
class="cmr-8">Version</span>
                                                      <span 
class="cmr-8">2</span>
                                                      <span 
class="cmr-8">of</span>
                                                      <span 
class="cmr-8">the</span>
                                                      <span 
class="cmr-8">reliable</span>
                                                      <span 
class="cmr-8">data</span>
                                                      <span 
class="cmr-8">protocol</span>
                                                      <span 
class="cmr-8">(RDP),</span>
                                                      <span 
class="cmr-8">April</span>
                                                      <span 
class="cmr-8">1990.</span>
                                                      <span 
class="cmr-8">RFC</span>
                                                      <span 
class="cmr-8">1151.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                  <span 
class="cmr-8">[40]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xpartridge87implementing"></a><span 
class="cmr-8">Craig</span>
                                                      <span 
class="cmr-8">Partridge.</span>
                                                      <span 
class="cmr-8">Implementing</span>
                                                      <span 
class="cmr-8">the</span>
                                                      <span 
class="cmr-8">reliable</span>
                                                      <span 
class="cmr-8">data</span>
                                                      <span 
class="cmr-8">protocol</span>
                                                      <span 
class="cmr-8">(RDP).</span>
                                                      <span 
class="cmr-8">In</span>
                                                      <span 
class="cmti-8">USENIX</span>
   <span 
class="cmti-8">Summer</span>
   <span 
class="cmti-8">Conference</span><span 
class="cmr-8">,</span>
   <span 
class="cmr-8">June</span>
   <span 
class="cmr-8">1987.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[41]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xrfc768"></a><span 
class="cmr-8">J.</span><span 
class="cmr-8">&#x00A0;Postel.</span>
   <span 
class="cmr-8">User</span>
   <span 
class="cmr-8">datagram</span>
   <span 
class="cmr-8">protocol,</span>
   <span 
class="cmr-8">August</span>
   <span 
class="cmr-8">1980.</span>
   <span 
class="cmr-8">RFC</span>
   <span 
class="cmr-8">768.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[42]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xrfc959"></a><span 
class="cmr-8">J.</span><span 
class="cmr-8">&#x00A0;Postel</span>
   <span 
class="cmr-8">and</span>
   <span 
class="cmr-8">J.</span><span 
class="cmr-8">&#x00A0;Reynolds.</span>
   <span 
class="cmr-8">File</span>
   <span 
class="cmr-8">transfer</span>
   <span 
class="cmr-8">protocol</span>
   <span 
class="cmr-8">(FTP),</span>
   <span 
class="cmr-8">October</span>
   <span 
class="cmr-8">1985.</span>
   <span 
class="cmr-8">RFC</span>
   <span 
class="cmr-8">959.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[43]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xrfc4347"></a><span 
class="cmr-8">E.</span><span 
class="cmr-8">&#x00A0;Rescorla</span>
   <span 
class="cmr-8">and</span>
   <span 
class="cmr-8">N.</span><span 
class="cmr-8">&#x00A0;Modadugu.</span>
   <span 
class="cmr-8">Datagram</span>
   <span 
class="cmr-8">transport</span>
   <span 
class="cmr-8">layer</span>
   <span 
class="cmr-8">security,</span>
   <span 
class="cmr-8">April</span>
   <span 
class="cmr-8">2006.</span>
   <span 
class="cmr-8">RFC</span>
   <span 
class="cmr-8">4347.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[44]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xrfc3080"></a><span 
class="cmr-8">M.</span><span 
class="cmr-8">&#x00A0;Rose.</span>
   <span 
class="cmr-8">The</span>
   <span 
class="cmr-8">blocks</span>
   <span 
class="cmr-8">extensible</span>
   <span 
class="cmr-8">exchange</span>
   <span 
class="cmr-8">protocol</span>
   <span 
class="cmr-8">core,</span>
   <span 
class="cmr-8">March</span>
   <span 
class="cmr-8">2001.</span>
   <span 
class="cmr-8">RFC</span>
   <span 
class="cmr-8">3080.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[45]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xrfc3261"></a><span 
class="cmr-8">J.</span><span 
class="cmr-8">&#x00A0;Rosenberg</span>
   <span 
class="cmr-8">et</span><span 
class="cmr-8">&#x00A0;al.</span>
   <span 
class="cmr-8">SIP:</span>
   <span 
class="cmr-8">session</span>
   <span 
class="cmr-8">initiation</span>
   <span 
class="cmr-8">protocol,</span>
   <span 
class="cmr-8">June</span>
   <span 
class="cmr-8">2002.</span>                                               <span 
class="cmr-8">RFC</span>
                                                      <span 
class="cmr-8">3261.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                  <span 
class="cmr-8">[46]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xrfc3550"></a><span 
class="cmr-8">H.</span><span 
class="cmr-8">&#x00A0;Schulzrinne</span>
                                                      <span 
class="cmr-8">et</span><span 
class="cmr-8">&#x00A0;al.</span>
                                                      <span 
class="cmr-8">RTP:</span>
                                                      <span 
class="cmr-8">A</span>
                                                      <span 
class="cmr-8">transport</span>
                                                      <span 
class="cmr-8">protocol</span>
                                                      <span 
class="cmr-8">for</span>
                                                      <span 
class="cmr-8">real-time</span>
                                                      <span 
class="cmr-8">applications,</span>
                                                      <span 
class="cmr-8">July</span>
                                                      <span 
class="cmr-8">2003.</span>
                                                      <span 
class="cmr-8">RFC</span>
                                                      <span 
class="cmr-8">3550.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                  <span 
class="cmr-8">[47]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xsnoeren00endtoend"></a><span 
class="cmr-8">Alex</span><span 
class="cmr-8">&#x00A0;C.</span>
                                                      <span 
class="cmr-8">Snoeren</span>
                                                      <span 
class="cmr-8">and</span>
                                                      <span 
class="cmr-8">Hari</span>
                                                      <span 
class="cmr-8">Balakrishnan.</span>
                                                      <span 
class="cmr-8">An</span>
                                                      <span 
class="cmr-8">end-to-end</span>
                                                      <span 
class="cmr-8">approach</span>
                                                      <span 
class="cmr-8">to</span>
                                                      <span 
class="cmr-8">host</span>
                                                      <span 
class="cmr-8">mobility.</span>
                                                      <span 
class="cmr-8">In</span>
                                                      <span 
class="cmti-8">6th</span>
                                                      <span 
class="cmti-8">MOBICOM</span><span 
class="cmr-8">,</span>
                                                      <span 
class="cmr-8">August</span>
                                                      <span 
class="cmr-8">2000.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                  <span 
class="cmr-8">[48]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xsnoeren01reconsidering"></a><span 
class="cmr-8">Alex</span><span 
class="cmr-8">&#x00A0;C.</span>
                                                      <span 
class="cmr-8">Snoeren,</span>
                                                      <span 
class="cmr-8">Hari</span>
                                                      <span 
class="cmr-8">Balakrishnan,</span>
                                                      <span 
class="cmr-8">and</span>
                                                      <span 
class="cmr-8">M.</span><span 
class="cmr-8">&#x00A0;Frans</span>
                                                      <span 
class="cmr-8">Kaashoek.</span>
                                                      <span 
class="cmr-8">Reconsidering</span>
                                                      <span 
class="cmr-8">Internet</span>
                                                      <span 
class="cmr-8">mobility.</span>
                                                      <span 
class="cmr-8">In</span>
                                                      <span 
class="cmti-8">HotOS-VIII</span><span 
class="cmr-8">,</span>
                                                      <span 
class="cmr-8">May</span>
                                                      <span 
class="cmr-8">2001.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                  <span 
class="cmr-8">[49]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xrfc2960"></a><span 
class="cmr-8">R.</span><span 
class="cmr-8">&#x00A0;Stewart</span>
                                                      <span 
class="cmr-8">et</span><span 
class="cmr-8">&#x00A0;al.</span>
                                                      <span 
class="cmr-8">Stream</span>
                                                      <span 
class="cmr-8">control</span>
                                                      <span 
class="cmr-8">transmission</span>
                                                      <span 
class="cmr-8">protocol,</span>
                                                      <span 
class="cmr-8">October</span>
                                                      <span 
class="cmr-8">2000.</span>
                                                      <span 
class="cmr-8">RFC</span>
                                                      <span 
class="cmr-8">2960.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[50]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xsubramanian04overqos"></a><span 
class="cmr-8">Lakshminarayanan</span>
   <span 
class="cmr-8">Subramanian</span>
   <span 
class="cmr-8">et</span><span 
class="cmr-8">&#x00A0;al.</span>
   <span 
class="cmr-8">OverQoS:</span>
   <span 
class="cmr-8">An</span>
   <span 
class="cmr-8">overlay</span>
   <span 
class="cmr-8">based</span>
   <span 
class="cmr-8">architecture</span>
   <span 
class="cmr-8">for</span>
   <span 
class="cmr-8">enhancing</span>
   <span 
class="cmr-8">Internet</span>
   <span 
class="cmr-8">QoS.</span>
   <span 
class="cmr-8">In</span>
   <span 
class="cmti-8">1st</span>
   <span 
class="cmti-8">NSDI</span><span 
class="cmr-8">,</span>
   <span 
class="cmr-8">San</span>
   <span 
class="cmr-8">Francisco,</span>
   <span 
class="cmr-8">CA,</span>
   <span 
class="cmr-8">March</span>
   <span 
class="cmr-8">2004.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[51]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xsunshine78connection"></a><span 
class="cmr-8">Carl</span><span 
class="cmr-8">&#x00A0;A.</span>
   <span 
class="cmr-8">Sunshine</span>
   <span 
class="cmr-8">and</span>
   <span 
class="cmr-8">Yogen</span><span 
class="cmr-8">&#x00A0;K.</span>
   <span 
class="cmr-8">Dalal.</span>
   <span 
class="cmr-8">Connection</span>
   <span 
class="cmr-8">management</span>
   <span 
class="cmr-8">in</span>
   <span 
class="cmr-8">transport</span>
   <span 
class="cmr-8">protocols.</span>
   <span 
class="cmti-8">Computer</span>
   <span 
class="cmti-8">Networks</span><span 
class="cmr-8">,</span>
   <span 
class="cmr-8">2(6):454&#8211;473,</span>
   <span 
class="cmr-8">December</span>
   <span 
class="cmr-8">1978.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[52]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xrfc793"></a><span 
class="cmr-8">Transmission</span>
   <span 
class="cmr-8">control</span>
   <span 
class="cmr-8">protocol,</span>
   <span 
class="cmr-8">September</span>
   <span 
class="cmr-8">1981.</span>
   <span 
class="cmr-8">RFC</span>
   <span 
class="cmr-8">793.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[53]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xtomlinson75selecting"></a><span 
class="cmr-8">Raymond</span><span 
class="cmr-8">&#x00A0;S.</span>
   <span 
class="cmr-8">Tomlinson.</span>
   <span 
class="cmr-8">Selecting</span>
   <span 
class="cmr-8">sequence</span>
   <span 
class="cmr-8">numbers.</span>
   <span 
class="cmti-8">SIGOPS</span>
   <span 
class="cmti-8">Operating</span>
   <span 
class="cmti-8">Systems</span>
   <span 
class="cmti-8">Review</span><span 
class="cmr-8">,</span>
   <span 
class="cmr-8">9(3):11&#8211;23,</span>
   <span 
class="cmr-8">July</span>
   <span 
class="cmr-8">1975.</span>
   </p>
   <p class="bibitem"><span class="biblabel">
<span 
class="cmr-8">[54]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
   <a 
 id="Xrfc2140"></a><span 
class="cmr-8">J.</span><span 
class="cmr-8">&#x00A0;Touch.</span>                                           <span 
class="cmr-8">TCP</span>
                                                      <span 
class="cmr-8">control</span>
                                                      <span 
class="cmr-8">block</span>
                                                      <span 
class="cmr-8">interdependence,</span>
                                                      <span 
class="cmr-8">April</span>
                                                      <span 
class="cmr-8">1997.</span>
                                                      <span 
class="cmr-8">RFC</span>
                                                      <span 
class="cmr-8">2140.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                  <span 
class="cmr-8">[55]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xrfc4251"></a><span 
class="cmr-8">T.</span><span 
class="cmr-8">&#x00A0;Ylonen</span>
                                                      <span 
class="cmr-8">and</span>
                                                      <span 
class="cmr-8">C.</span><span 
class="cmr-8">&#x00A0;Lonvick,</span>
                                                      <span 
class="cmr-8">Ed.</span>
                                                      <span 
class="cmr-8">The</span>
                                                      <span 
class="cmr-8">secure</span>
                                                      <span 
class="cmr-8">shell</span>
                                                      <span 
class="cmr-8">protocol</span>
                                                      <span 
class="cmr-8">architecture,</span>
                                                      <span 
class="cmr-8">January</span>
                                                      <span 
class="cmr-8">2006.</span>
                                                      <span 
class="cmr-8">RFC</span>
                                                      <span 
class="cmr-8">4251.</span>
                                                      </p>
                                                      <p class="bibitem"><span class="biblabel">
                                                  <span 
class="cmr-8">[56]</span> <span class="bibsp"><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span><span 
class="cmr-8">&#x00A0;</span></span></span>
                                                      <a 
 id="Xzhang91comparison"></a><span 
class="cmr-8">Hui</span>
                                                      <span 
class="cmr-8">Zhang</span>
                                                      <span 
class="cmr-8">and</span>
                                                      <span 
class="cmr-8">Srinivasan</span>
                                                      <span 
class="cmr-8">Keshav.</span>
                                                      <span 
class="cmr-8">Comparison</span>
                                                      <span 
class="cmr-8">of</span>
                                                      <span 
class="cmr-8">rate-based</span>
                                                      <span 
class="cmr-8">service</span>
                                                      <span 
class="cmr-8">disciplines.</span>
                                                      <span 
class="cmr-8">In</span>
                                                      <span 
class="cmti-8">ACM</span>
                                                      <span 
class="cmti-8">SIGCOMM</span><span 
class="cmr-8">,</span>
                                                      <span 
class="cmr-8">pages</span>
                                                      <span 
class="cmr-8">113&#8211;121,</span>
                                                      <span 
class="cmr-8">1991.</span>
                                                  </p>
                                                  </div>
                                                     
<hr>

  <div class="toappear"><span 
class="ptmr8t-x-x-80">
&copy; ACM, 2007. This is the author's version of the work. It is posted here by permission of ACM for your personal use. Not for redistribution. The definitive version was published in ACM SIGCOMM '07, August 27-31, 2007, Kyoto, Japan. <!-- http://doi.acm.org/10.1145/nnnnnn.nnnnnn --></span>
</div>

<!--#include virtual="/footer.html" -->

</body></html> 
